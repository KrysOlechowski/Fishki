(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,n){},39:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c,r,o,a,s,i=n(1),d=n.n(i),l=n(26),b=n.n(l),u=(n(34),n(2)),j=n(3);!function(e){e.new="new",e.good="good",e.bad="bad"}(c||(c={})),function(e){e.NEW="NEW",e.PENDING="PENDING",e.CREATED="CREATED",e.FAILED="FAILED"}(r||(r={})),function(e){e.NONE="NONE",e.DELETED="DELETED",e.FAILED="FAILED",e.PENDING="PENDING"}(o||(o={})),function(e){e.NONE="NONE",e.PENDING="PENDING",e.FAILED="FAILED",e.UPDATED="UPDATED"}(a||(a={})),function(e){e.MAIN="MAIN",e.LESSON="LESSON",e.SHOW_ALL_CARDS="SHOW_ALL_CARDS",e.CREATE_NEW_CARD="CREATE_NEW_CARD",e.SHOW_STATISTICS="SHOW_STATISTICS",e.CREATE_NEW_COLLECTION="CREATE_NEW_COLLECTION"}(s||(s={}));var p=n(6),h=(n(5),n(8),n(7)),O=function(){var e=x();return h.a.get("".concat(e,"/cards")).json()},f=function(e){var t=x(),n=e;return h.a.post("".concat(t,"/update"),{json:n}).json()},x=function(){return"https://node11255.herokuapp.com"},m=n(4),g=n(11),C=n(0),w=Object(i.createContext)(null),v=w.Provider,N=function(e){var t=e.children,n=Object(i.useState)({goodAnswers:0,badAnswers:0,numberOfCards:0}),c=Object(u.a)(n,2),r=c[0],o=c[1],a=Object(i.useState)(0),s=Object(u.a)(a,2),d=s[0],l=s[1],b=Object(i.useState)([]),j=Object(u.a)(b,2),p=j[0],h=j[1],f=Object(i.useState)(!1),x=Object(u.a)(f,2),m=x[0],w=x[1],N=Object(i.useState)(!1),k=Object(u.a)(N,2),E=k[0],S=k[1],I=Object(i.useState)(!1),y=Object(u.a)(I,2),_=y[0],L=y[1],T=Object(i.useState)(!1),D=Object(u.a)(T,2),F=D[0],M=D[1],W=Object(i.useState)(!0),P=Object(u.a)(W,2),R=P[0],z=P[1],B=Object(i.useCallback)((function(){O().then((function(e){console.log(e),h(e)})).catch((function(){return w(!0)}))}),[]),G=Object(i.useCallback)((function(){z(!0);var e=Object(g.read_cookie)("fishki");console.log(e),e&&A(e).then((function(e){z(!1),e.cookieExist?M(!0):M(!1)}))}),[]),H=Object(i.useCallback)((function(){l(d+1)}),[d]),Y=Object(i.useMemo)((function(){return{cards:p,error:m,fetchCards:B,activeCardIndex:d,increaseActiveCardIndex:H,lessonMode:r,setLessonMode:o,isTestMode:E,setIsTestMode:S,isLessonMode:_,setIsLessonMode:L,isLoggedIn:F,setIsLoggedIn:M,checkSession:G,isSessionChecking:R}}),[p,m,B,d,H,r,o,E,S,_,L,F,M,G,R]);return Object(C.jsx)(v,{value:Y,children:t})},k=function(){var e=Object(i.useContext)(w);if(null===e)throw Error("Context has not been Provided!");return e},E=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(!1),o=Object(u.a)(r,2),a=o[0],s=o[1],d=Object(i.useState)(!1),l=Object(u.a)(d,2),b=l[0],j=l[1],p=k(),h=p.fetchCards,O=p.increaseActiveCardIndex;return Object(i.useEffect)((function(){j(!1)}),[a]),{hasError:n,isLoading:a,isComplete:b,editCard:Object(i.useCallback)((function(e){s(!0),f(e).then((function(e){e.ok&&(j(!0),s(!1),h())})).catch((function(e){c(!0),s(!1),console.log(e)}))}),[h]),editAnswer:Object(i.useCallback)((function(e){var t=(new Date).getTime();s(!0),f(Object(m.a)(Object(m.a)({},e),{},{currentAnswerTime:t})).then((function(e){e.ok&&(j(!0),s(!1),O())})).catch((function(e){c(!0),s(!1),console.log(e)}))}),[O])}};var S,A=function(e){var t=x(),n={cookie:e};return h.a.post("".concat(t,"/session"),{json:n}).json()},I=function(){var e=k().isLoggedIn;return Object(C.jsx)(y,{className:Object(p.a)("wrapper"),isLoggedIn:e,children:e?"Logged":"NotLogged"})},y=j.a.div.withConfig({displayName:"login-status__Container",componentId:"sc-1scs4w3-0"})(["border:1px solid ",";position:absolute;top:0;right:0;"],(function(e){return e.isLoggedIn?"green":"red"})),_=function(e){var t=e.name,n=e.value,c=e.onChange,r=e.type,o=e.placeholder,a=e.className;return Object(C.jsx)(L,{name:t,value:n,onChange:c,type:r,placeholder:o,className:a})},L=j.a.input.withConfig({displayName:"input__Container",componentId:"bol67i-0"})(["border:1px solid red;padding:5px;border-radius:10px;border-color:#3f3f3f;margin:5px 0;outline:none;"]),T=n(23),D=function(e){var t=e.onClick,n=e.className,c=e.name,r=e.bgColor,o=e.children,a=e.type,s=Object(i.useCallback)((function(e){t&&t(e)}),[t]);return Object(C.jsx)(F,{bgColor:r,name:c,onClick:s,className:Object(p.a)("button",n),type:a,children:o})},F=j.a.button.withConfig({displayName:"button__ButtonWrapper",componentId:"sc-1jfqf56-0"})(["width:100%;padding:5px 10px;border-radius:10px;outline:none;background-color:",";color:white;&:hover,&:focus{cursor:pointer;background-color:",";}"],(function(e){return e.bgColor?e.bgColor:"#3F3F3F"}),(function(e){return e.bgColor?Object(T.a)("0.1",e.bgColor):Object(T.a)("0.1","#3F3F3F")})),M=(n(9),n(11).bake_cookie),W=function(){var e=Object(i.useState)("pass"),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)("email"),o=Object(u.a)(r,2),a=o[0],s=o[1],d=k(),l=d.isTestMode,b=d.checkSession,j=Object(i.useCallback)((function(e){var t=e.target,n=t.value,r=t.name;"email"===r?s(n):"password"===r&&c(n)}),[]),p=Object(i.useCallback)((function(e,t){e&&e.preventDefault(),function(e){var t=x();return h.a.post("".concat(t,"/login"),{json:e}).json()}(t||{email:a,password:n}).then((function(e){e.isMatch?(M("fishki",e.sessionId),console.log("cookie created"),b()):console.log("Invalid Password")}))}),[a,n,b]),O=Object(i.useCallback)((function(){p(null,{email:"guest",password:"guest"})}),[p]),f=Object(i.useCallback)((function(){b()}),[b]);return Object(C.jsxs)(R,{children:[Object(C.jsx)("h1",{children:"Login:"}),Object(C.jsxs)(P,{onSubmit:p,children:[Object(C.jsx)(_,{name:"email",value:a,onChange:j,type:"text",placeholder:"Email"}),Object(C.jsx)(_,{name:"password",value:n,onChange:j,type:"text",placeholder:"Password"}),Object(C.jsx)(D,{className:"login-form-button",type:"submit",children:"Login"}),Object(C.jsx)("div",{className:"login-form-guest",onClick:O,children:"Or test as a guest"}),l&&Object(C.jsx)(D,{onClick:f,className:"login-form-button",type:"button",children:"Check Session"})]})]})},P=j.a.form.withConfig({displayName:"login-form__Form",componentId:"dbjq0v-0"})(["display:flex;flex-direction:column;"]),R=j.a.div.withConfig({displayName:"login-form__Container",componentId:"dbjq0v-1"})(["height:100vh;display:flex;flex-direction:column;align-items:center;.login-form-button{max-width:200px;}.login-form-guest{color:#000;text-decoration:underline;margin-top:10px;&:hover{cursor:pointer;}}"]),z=(n(39),function(e){var t={backgroundColor:e.color};return Object(C.jsxs)("div",{className:"loading-dots",children:[Object(C.jsx)("div",{className:"loading-dots--dot",style:t}),Object(C.jsx)("div",{className:"loading-dots--dot",style:t}),Object(C.jsx)("div",{className:"loading-dots--dot",style:t})]})}),B=function(){return Object(C.jsx)(G,{children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"text-container",children:"Checking Session"}),Object(C.jsx)("div",{className:"loader-container",children:Object(C.jsx)(z,{color:"#fff"})})]})})},G=j.a.div.withConfig({displayName:"checking-session__Wrapper",componentId:"sc-1qo7p1o-0"})(["background:linear-gradient(#d9d8df,#a19eae);height:100vh;display:flex;align-items:center;justify-content:center;.container{display:flex;align-items:baseline;}.text-container{margin-right:10px;font-size:2rem;color:white;}"]),H=n(12),Y=[{label:"angielski"},{label:"test"}],q=n(15);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X(e,t){var n=e.title,c=e.titleId,r=V(e,["title","titleId"]);return i.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"-10 0 1034 1024",ref:t,"aria-labelledby":c},r),n?i.createElement("title",{id:c},n):null,S||(S=i.createElement("g",{transform:"matrix(1 0 0 -1 0 832)"},i.createElement("path",{fill:"currentColor",d:"M512 166.72l-261.28 261.28l45.28 45.28l216 -216l216 216l45.28 -45.28z"}))))}var Z,J,K=i.forwardRef(X);n.p;function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ee(e,t){var n=e.title,c=e.titleId,r=$(e,["title","titleId"]);return i.createElement("svg",Q({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},r),n?i.createElement("title",{id:c},n):null,Z||(Z=i.createElement("g",{clipPath:"url(#clip0-856330)"},i.createElement("path",{d:"M24.6425 15C24.0508 15 23.5711 15.4797 23.5711 16.0715V26.7856C23.5711 27.3773 23.0914 27.857 22.4996 27.857H3.21424C2.6225 27.857 2.14281 27.3773 2.14281 26.7856V5.35731C2.14281 4.76556 2.6225 4.28587 3.21424 4.28587H16.0712C16.663 4.28587 17.1427 3.80619 17.1427 3.21444C17.1427 2.62269 16.663 2.14307 16.0712 2.14307H3.21424C1.43906 2.14307 0 3.58213 0 5.35731V26.7856C0 28.5608 1.43906 29.9998 3.21424 29.9998H22.4997C24.2749 29.9998 25.7139 28.5608 25.7139 26.7856V16.0714C25.7139 15.4797 25.2343 15 24.6425 15Z",fill:"black"}),i.createElement("path",{d:"M28.799 1.20165C28.0297 0.432239 26.9863 7.44999e-05 25.8983 0.000200056C24.8096 -0.00293885 23.7651 0.429979 22.998 1.20234L8.88524 15.3139C8.76816 15.4318 8.67983 15.5752 8.62703 15.7328L6.48422 22.1613C6.2972 22.7227 6.60074 23.3294 7.16216 23.5163C7.27108 23.5526 7.38515 23.5711 7.49991 23.5713C7.61492 23.5711 7.72924 23.5526 7.83847 23.5167L14.267 21.3738C14.4249 21.3211 14.5683 21.2323 14.6859 21.1146L28.7986 7.00191C30.4004 5.40032 30.4006 2.80343 28.799 1.20165ZM27.2836 5.48795L13.3552 19.4164L9.1938 20.806L10.5791 16.6499L24.5129 2.72157C25.2789 1.95706 26.5197 1.95831 27.2842 2.72433C27.6494 3.09027 27.8552 3.58565 27.8568 4.10263C27.8581 4.62237 27.6517 5.12108 27.2836 5.48795Z",fill:"black"}))),J||(J=i.createElement("defs",null,i.createElement("clipPath",{id:"clip0-856330"},i.createElement("rect",{width:30,height:30,fill:"b"})))))}var te,ne,ce,re=i.forwardRef(ee),oe=(n.p,function(e){var t=e.options,n=e.onSelection,c=e.className,r=Object(i.useState)(t[0].label),o=Object(u.a)(r,2),a=o[0],s=o[1],d=Object(i.useState)(!1),l=Object(u.a)(d,2),b=l[0],j=l[1],h=Object(i.useCallback)((function(e){s(e),n(e)}),[n]);return Object(C.jsx)(ae,{className:Object(p.a)("wrapper",c),children:Object(C.jsxs)(q.Wrapper,{className:"dropdown",onSelection:h,onMenuToggle:function(e){j(e.isOpen)},children:[Object(C.jsxs)(q.Button,{className:"dropdown-title",children:[Object(C.jsx)("div",{children:a}),Object(C.jsx)("div",{children:Object(C.jsx)(K,{className:Object(p.a)("dropdown-arrow",{rotate:b})})})]}),Object(C.jsx)(q.Menu,{className:"dropdown-menu-wrapper",children:Object(C.jsx)("ul",{className:"dropdown-menu",children:t.map((function(e,t){return Object(C.jsx)(q.MenuItem,{value:e.label,className:"dropdown-menu-item",children:Object(C.jsx)("li",{className:"menu-item-wrapper",children:Object(C.jsx)("div",{className:"menu-item-inner",children:Object(C.jsxs)("div",{children:[" ",e.label," "]})})})},t)}))})})]})})}),ae=j.a.div.withConfig({displayName:"dropdown__Container",componentId:"sc-104l720-0"})([".dropdown{border:1px solid #3f3f3f;text-align-last:left;background-color:white;border-radius:10px;border-width:2px;position:relative;}.dropdown-title{outline:none;position:relative;display:flex;padding:5px;color:var(--abbey);max-width:260px;}.dropdown-arrow{position:absolute;width:1.8em;pointer-events:none;right:5px;top:50%;transform:translateY(-50%) translateX(-50%) rotate(-90deg);transition:all 0.3s ease;&.rotate{transform:translateY(-50%) translateX(-50%) rotate(0);}}.dropdown-menu-wrapper{outline:none;position:absolute;z-index:999999;width:100%;max-width:260px;box-sizing:border-box;.dropdown-menu{list-style-type:none;margin:0;padding:0;.dropdown-menu-item{color:var(--abbey);outline:none;border:1px solid #3f3f3f;border-width:2px;border-radius:10px;background:white;&:hover{background-color:var(--gallery);cursor:pointer;}.menu-item-wrapper{padding:10px 15px;color:inherit;}}}}"]),se=function(e){var t=e.onClick,n=Object(i.useState)(!1),c=Object(u.a)(n,2),r=c[0],o=c[1],a=Object(i.useCallback)((function(){o(!r),t()}),[r,t]);return Object(C.jsx)(ie,{children:Object(C.jsx)(re,{className:Object(p.a)("iconWrapper",{editMode:r}),onClick:a})})},ie=j.a.div.withConfig({displayName:"edit-button__EditIconWrapper",componentId:"buh0p9-0"})(["position:absolute;top:6px;right:10px;svg{width:17px;height:17px;}&:hover{cursor:pointer;}"]),de=function(e){var t=e.card,n=e.onCardFlip,c=Y,r=t.front,a=t.back,s=t.status,d=t._id,l=Object(i.useState)(!1),b=Object(u.a)(l,2),j=b[0],O=b[1],f=Object(i.useState)(r),m=Object(u.a)(f,2),g=m[0],w=m[1],v=Object(i.useState)(a),N=Object(u.a)(v,2),S=N[0],A=N[1],I=Object(i.useState)(Y[0].label),y=Object(u.a)(I,2),_=y[0],L=y[1],T=Object(i.useState)(o.NONE),F=Object(u.a)(T,2),M=F[0],W=F[1],P=E(),R=P.hasError,z=P.isLoading,B=P.isComplete,G=P.editCard,H=k().fetchCards;Object(i.useEffect)((function(){B&&O(!1)}),[B]);var q=Object(i.useCallback)((function(e){L(e)}),[]),U=Object(i.useCallback)((function(){G({id:d,front:g,back:S,collectionName:_})}),[d,g,S,_,G]),V=Object(i.useMemo)((function(){return B?"Card Updated":z?"Updating...":R?"Updating Card Failed":z?"":"Update Card"}),[R,z,B]),X=Object(i.useCallback)((function(e){var t=e.target,n=t.name,c=t.value;"front"===n?w(c):A(c)}),[]),Z=Object(i.useCallback)((function(){W(o.PENDING),function(e){var t=x(),n={cardId:e};return h.a.delete("".concat(t,"/delete"),{json:n}).json()}(d).then((function(e){console.log("card deleted:"+e),W(o.DELETED),H()})).catch((function(e){console.log(e),W(o.FAILED)}))}),[d,H]),J=Object(i.useMemo)((function(){return M===o.NONE?"Delete Card":M===o.PENDING?"Removing....":M===o.FAILED?"Failed removing card":M===o.DELETED?"Card deleted":""}),[M]);return Object(C.jsxs)(le,{status:s,className:Object(p.a)("wrapper",{editMode:j},{deleted:M===o.DELETED}),children:[Object(C.jsxs)(be,{children:[Object(C.jsx)(se,{onClick:n}),Object(C.jsx)("div",{children:"Front:"}),Object(C.jsx)(ue,{name:"front",value:g,onChange:X,autoComplete:"off"}),Object(C.jsx)("div",{children:"Back:"}),Object(C.jsx)(ue,{name:"back",value:S,onChange:X,autoComplete:"off"}),Object(C.jsx)("div",{children:"Collection:"}),Object(C.jsx)(oe,{onSelection:q,options:c})]}),Object(C.jsxs)(je,{children:[Object(C.jsx)(D,{className:"edit-card-button",onClick:U,children:V}),Object(C.jsx)(D,{className:"edit-card-button",bgColor:"#F48A94",onClick:Z,children:J})]})]})},le=j.a.div.withConfig({displayName:"edit-card__Container",componentId:"sc-183z39r-0"})(["display:flex;flex-direction:column;"]),be=j.a.div.withConfig({displayName:"edit-card__CardBackInner",componentId:"sc-183z39r-1"})(["height:275px;background:linear-gradient(#F7F8FA,#C8C8C7);padding:20px;border-top-left-radius:25px;border-top-right-radius:25px;"]),ue=j.a.input.withConfig({displayName:"edit-card__Input",componentId:"sc-183z39r-2"})(["padding:5px;border-radius:10px;border-color:#3f3f3f;margin:5px 0;outline:none;"]),je=j.a.div.withConfig({displayName:"edit-card__ButtonsWrapper",componentId:"sc-183z39r-3"})(["margin-top:13px;background-color:white;display:flex;.edit-card-button{margin:10px;}"]),pe=function(e){var t=e.card,n=E().editAnswer,r=k(),o=r.lessonMode,a=r.setLessonMode,s=Object(i.useCallback)((function(e){e.preventDefault();var r=e.target.name,s=t.goodAnswers,i=t.badAnswers,d=t.lastAnswerTime,l=o;if("good"===r){var b=o.goodAnswers+1;a(Object(m.a)(Object(m.a)({},l),{},{goodAnswers:b})),n({id:t._id,goodAnswers:s+1,status:c.good,lastAnswerTime:d})}else{var u=o.badAnswers+1;a(Object(m.a)(Object(m.a)({},l),{},{badAnswers:u})),n({id:t._id,badAnswers:i+1,status:c.bad,lastAnswerTime:d})}}),[t,o,a,n]);return Object(C.jsxs)(he,{className:Object(p.a)("wrapper"),children:[Object(C.jsx)(D,{className:"card-answer-button",onClick:s,name:"good",children:"Good"}),Object(C.jsx)(D,{className:"card-answer-button",onClick:s,name:"bad",children:"Bad"})]})},he=j.a.div.withConfig({displayName:"card-answers-buttons__Wrapper",componentId:"d08j5j-0"})(["margin-top:13px;display:flex;.card-answer-button{margin:10px;}"]),Oe=function(e){var t=function(e,t){var n=parseInt((100*e/(e+t)).toFixed(2),10);return{firstColumn:n,secondColumn:100-n,goodAnswers:e,badAnswers:t}}(e.firstColumn,e.secondColumn);return Object(C.jsx)(xe,{children:Object(C.jsxs)("div",{className:"inner-wrapper",children:[Object(C.jsxs)("div",{className:"row-wrapper good",children:[Object(C.jsx)(fe,{value:t.firstColumn,bgColor:"#3DC99C"}),Object(C.jsx)("div",{className:"text",children:t.goodAnswers})]}),Object(C.jsxs)("div",{className:"row-wrapper bad",children:[Object(C.jsx)(fe,{value:t.secondColumn,bgColor:"#F48A94"}),Object(C.jsx)("div",{className:"text",children:t.badAnswers})]})]})})},fe=j.a.div.withConfig({displayName:"percentage-columns__Column",componentId:"zm23cp-0"})(["background-color:",";width:","%;height:5px;"],(function(e){return e.bgColor}),(function(e){return e.value+1})),xe=j.a.div.withConfig({displayName:"percentage-columns__Container",componentId:"zm23cp-1"})(["width:100%;height:50px;display:flex;align-items:center;flex-direction:column;.text{transform:translateY(-2px);margin-left:5px;font-size:10px;}.good{color:var(--primaryGreen);border-left:1px solid var(--primaryGreen);}.bad{color:#f48a94;border-left:1px solid var(--primaryRed);}.inner-wrapper{width:100px;height:50px;}.row-wrapper{display:flex;align-items:center;border-width:2px;height:8px;}"]),me=function(e){var t=e.card,n=e.showAnswer,c=e.onShowAnswer,r=t.front,o=t.back,a=t.goodAnswers,s=t.badAnswers,d=Object(i.useMemo)((function(){return function(e,t){var n=Math.floor(2*Math.random());return{visibleText:0===n?e:t,hiddenText:0===n?t:e}}(r,o)}),[r,o]),l=0===a&&0===s,b=Object(i.useCallback)((function(){c()}),[c]),u=function(e){var t=Number((e/1e3).toFixed()),n=Number((e/6e4).toFixed()),c=Number((e/36e5).toFixed()),r=Number((e/864e5).toFixed());return t<60?t+" seconds":1===n?n+" minute":n<60?n+" minutes":1===c?c+" hour":c<24?c+" hours":1===r?c+" day":r+" days"}((new Date).getTime()-t.currentAnswerTime),j=d.visibleText,p=d.hiddenText;return Object(C.jsxs)(Ce,{onClick:b,children:[Object(C.jsx)("h3",{children:j}),Object(C.jsx)("div",{className:"separate-answer"}),n?Object(C.jsx)("h3",{children:p}):Object(C.jsx)("h3",{children:"Show Answer"}),n&&!l&&Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Oe,{firstColumn:a,secondColumn:s})}),Object(C.jsxs)(ge,{children:[Object(C.jsxs)("span",{children:["You viewed this card"," ",Object(C.jsx)("span",{className:"time-info",children:u})," ago."]}),Object(C.jsx)("span",{children:"new"!==t.status&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:"Previous answer was "}),Object(C.jsx)("span",{className:"status-info",children:"good"===t.status?"good":"wrong"})]})})]})]})},ge=j.a.div.withConfig({displayName:"card-answers__LastTimeAnswer",componentId:"o8uhb4-0"})(["font-size:12px;font-weight:100;.time-info,.status-info{font-weight:600;}"]),Ce=j.a.div.withConfig({displayName:"card-answers__Container",componentId:"o8uhb4-1"})(["height:100%;.separate-answer{border-bottom:1px solid white;}"]),we=function(e){var t=e.card,n=t.status,c=t.collectionName,r=t._id,o=t.goodAnswers,a=t.badAnswers,s=t.front,i=t.back,d=t.lastAnswerTime,l=t.currentAnswerTime,b=t.timeBetweenAnswers;return Object(C.jsxs)(ve,{children:[Object(C.jsxs)("h4",{children:["front: ",s]}),Object(C.jsxs)("h4",{children:["back: ",i]}),Object(C.jsxs)("h4",{children:["lastAnswerTime: ",d]}),Object(C.jsxs)("h4",{children:["currentAnswerTime: ",l]}),Object(C.jsxs)("h4",{children:["timeBetweenAnswers: ",b]}),Object(C.jsxs)("h4",{children:["prev answer: ",n]}),Object(C.jsxs)("h4",{children:["collection: ",c]}),Object(C.jsxs)("h4",{children:["Good: ",o]}),Object(C.jsxs)("h4",{children:["Bad: ",a]}),Object(C.jsxs)("h4",{children:["id: ",r]})]})},ve=j.a.div(te||(te=Object(H.a)(["\n  text-align: left;\n  h4 {\n    margin: 5px;\n  }\n"]))),Ne=function(e){var t=e.card,n=Object(i.useState)(!1),c=Object(u.a)(n,2),r=c[0],o=c[1],a=k().isTestMode,s=Object(i.useCallback)((function(){o(!0)}),[o]);return Object(C.jsxs)(Ee,{children:[Object(C.jsx)(ke,{onClick:s,children:a?Object(C.jsx)(we,{card:t}):Object(C.jsx)(me,{card:t,onShowAnswer:s,showAnswer:r})}),Object(C.jsx)("div",{className:"separate-line"})]})},ke=j.a.div.withConfig({displayName:"card-front-inner__Inner",componentId:"sc-6v23jh-0"})(["height:100%;padding:20px;&:hover{cursor:pointer;}"]),Ee=j.a.div.withConfig({displayName:"card-front-inner__Container",componentId:"sc-6v23jh-1"})(["height:275px;background:linear-gradient(#f7f8fa,#c8c8c7);border-top-left-radius:25px;border-top-right-radius:25px;.separate-line{box-shadow:0px -2px 10px 1px #3f3f3f;}"]),Se=function(e){var t=e.card,n=Object(i.useState)(!1),r=Object(u.a)(n,2),o=r[0],a=r[1],s=k().isLessonMode,d=Object(i.useMemo)((function(){return t.status===c.good?c.good:t.status===c.bad?c.bad:c.new}),[t.status]),l=Object(i.useCallback)((function(){a(!o)}),[o]);return Object(C.jsx)(Ae,{size:"16",children:Object(C.jsxs)(Ie,{className:Object(p.a)({flipped:o}),children:[Object(C.jsxs)("div",{className:Object(p.a)("cardFace front",d),children:[!s&&Object(C.jsx)(se,{onClick:l}),Object(C.jsx)(Ne,{card:t}),s&&Object(C.jsx)(pe,{card:t})]}),Object(C.jsx)("div",{className:"cardFace back",children:Object(C.jsx)(de,{card:t,onCardFlip:l})})]})})},Ae=j.a.div.withConfig({displayName:"card__CardWrapper",componentId:"p4941i-0"})(["display:flex;align-items:center;justify-content:center;border-radius:20px;overflow:hidden;width:300px;height:400px;margin:15px;perspective:600px;font-size:","px;"],(function(e){return e.size})),Ie=j.a.div.withConfig({displayName:"card__Card",componentId:"p4941i-1"})(["position:relative;width:250px;height:350px;transform-style:preserve-3d;transform-origin:center right;transition:transform 1s;.cardFace{z-index:1;overflow:hidden;position:absolute;width:100%;height:100%;color:#454545;text-align:center;font-weight:bold;backface-visibility:hidden;box-shadow:2px 3px 15px -5px #000000;border-radius:20px;&.front{background-color:white;&.new{}&.good{}&.bad{}&.deleted{background-color:#a63d40;}}&.back{background-color:white;transform:rotateY(180deg);}}&.flipped{transform:translateX(-100%) rotateY(-180deg);}"]),ye=function(e){var t=e.status;return t===r.NEW?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("h3",{children:"Create card"})}):t===r.CREATED?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("h3",{children:"Card Created"})}):t===r.FAILED?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("h3",{children:"Creatind card failed"})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("h3",{children:"..."})})},_e=function(){var e=Object(i.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],a=Object(i.useState)(""),s=Object(u.a)(a,2),d=s[0],l=s[1],b=Object(i.useState)(!1),j=Object(u.a)(b,2),p=j[0],O=j[1],f=Object(i.useState)(r.NEW),m=Object(u.a)(f,2),g=m[0],w=m[1],v=Y,N=Object(i.useState)(Y[0].label),E=Object(u.a)(N,2),S=E[0],A=E[1],I=k().fetchCards,y=Object(i.useCallback)((function(e){if(e.preventDefault(),n&&d&&S){O(!1);var t={front:n,back:d,status:c.new,collectionName:S};w(r.PENDING),function(e){var t=x();return h.a.post("".concat(t,"/add"),{json:e})}(t).then((function(){w(r.CREATED),o(""),l(""),I()})).catch((function(e){w(r.FAILED),console.log(e)}))}else O(!0)}),[n,d,S,I]),L=Object(i.useCallback)((function(e){var t=e.target.name,n=e.target.value;"front"===t?o(n):l(n)}),[]),T=Object(i.useCallback)((function(e){A(e)}),[]);return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Le,{children:[Object(C.jsx)("h1",{children:"Create card"}),Object(C.jsxs)("form",{action:"submit",onSubmit:y,autoComplete:"off",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_,{type:"text",placeholder:"Front",onChange:L,name:"front",value:n})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)(_,{type:"text",placeholder:"Back",onChange:L,value:d,name:"back"})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)(oe,{onSelection:T,options:v})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)(D,{className:"create-card-button",type:"submit",children:"Submit"})}),Object(C.jsx)(ye,{status:g}),p&&Object(C.jsx)("div",{className:"",children:Object(C.jsx)("p",{children:"You need to fill all the required forms"})})]})]})})},Le=j.a.div(ne||(ne=Object(H.a)(["\n  width: 350px;\n  padding: 50px;\n  border: 1px solid white;\n  background-color: var(--mine-shaft);\n  color: white;\n\n  .create-card-button {\n    margin: 10px 0;\n  }\n"]))),Te=function(){var e=Object(i.useCallback)((function(e){e.preventDefault(),function(e){var t=x(),n={name:e};return h.a.post("".concat(t,"/collections"),{json:n}).json()}("lolo").then((function(e){console.log(e)}))}),[]);return Object(C.jsx)("div",{children:Object(C.jsxs)("form",{onSubmit:e,children:["Create collection:",Object(C.jsx)("button",{children:"Create Colection"})]})})},De=function(){var e=k().lessonMode,t=Object(i.useMemo)((function(){return e.numberOfCards}),[e.numberOfCards]),n=Object(i.useMemo)((function(){return e.goodAnswers}),[e.goodAnswers]),c=Object(i.useMemo)((function(){return e.badAnswers}),[e.badAnswers]);return Object(C.jsxs)(Fe,{children:[Object(C.jsx)("h1",{children:"lesson statistics"}),Object(C.jsxs)("h3",{children:["Number Of Cards: ",t]}),Object(C.jsxs)("h3",{children:["Good Answers: ",n]}),Object(C.jsxs)("h3",{children:["Bad Answers: ",c]})]})},Fe=j.a.div.withConfig({displayName:"lesson-statistics__Wrapper",componentId:"sc-1yksv7v-0"})(["border:1px solid white;"]),Me=function(){var e=k(),t=e.cards,n=e.activeCardIndex,c=e.setLessonMode,r=e.lessonMode,o=e.setIsLessonMode,a=Object(i.useState)(!1),s=Object(u.a)(a,2),d=s[0],l=s[1],b=Object(i.useState)(!1),j=Object(u.a)(b,2),p=j[0],h=j[1],O=Object(i.useState)(0),f=Object(u.a)(O,2),x=f[0],g=f[1],w=Object(i.useMemo)((function(){return t.length}),[t.length]),v=Object(i.useCallback)((function(){var e=r;c(Object(m.a)(Object(m.a)({},e),{},{numberOfCards:w})),h(!0)}),[r,w,c]);return Object(i.useEffect)((function(){d&&!p&&(v(),o(!1))}),[d,v,p,o]),Object(i.useEffect)((function(){w>n?g(n):w&&w===n&&l(!0)}),[n,w,x]),Object(C.jsxs)(We,{children:[Object(C.jsx)(Pe,{children:x+1+" / "+w}),Object(C.jsx)("h1",{children:d?"Lesson Complete":"Lesson"}),!d&&t.length>1&&Object(C.jsx)(Se,{card:t[x]},t[x]._id),p&&Object(C.jsx)(De,{})]})},We=j.a.div.withConfig({displayName:"lesson__Wrapper",componentId:"xp0n78-0"})(["border:1px solid white;"]),Pe=j.a.div.withConfig({displayName:"lesson__Counts",componentId:"xp0n78-1"})(["border:1px solid white;font-size:20px;width:50px;"]),Re=function(){var e=k().cards,t=Object(i.useMemo)((function(){return e.length}),[e.length]);return Object(C.jsxs)(ze,{children:[Object(C.jsx)("h1",{children:"Statistics :"}),Object(C.jsxs)("h1",{children:["Number of cards: ",t]})]})},ze=j.a.div.withConfig({displayName:"statistics__Wrapper",componentId:"sc-1uqtsgn-0"})(["border:1px solid white;width:50%;color:white;"]),Be=function(e){var t=e.viewType,n=k().cards;return t===s.MAIN?Object(C.jsx)("div",{children:"main"}):t===s.LESSON?Object(C.jsx)(Me,{}):t===s.SHOW_ALL_CARDS?Object(C.jsx)(Ge,{children:n&&n.map((function(e){return Object(C.jsx)(Se,{card:e},e._id)}))}):t===s.CREATE_NEW_CARD?Object(C.jsx)(_e,{}):t===s.SHOW_STATISTICS?Object(C.jsx)(Re,{}):t===s.CREATE_NEW_COLLECTION?Object(C.jsx)(Te,{}):Object(C.jsx)("div",{children:"else"})},Ge=j.a.div(ce||(ce=Object(H.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),He=function(e){var t=e.onViewChange,n=k(),c=n.checkSession,r=n.isTestMode,o=n.setIsTestMode,a=Object(i.useCallback)((function(){(function(e){var t=x(),n={cookieId:e};return h.a.post("".concat(t,"/logout"),{json:n}).json()})(Object(g.read_cookie)("fishki")).then((function(e){e.cookieDeleted&&Object(g.delete_cookie)("fishki"),c()}))}),[c]),d=Object(i.useCallback)((function(e){o(!r)}),[r,o]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(D,{onClick:a,className:"test-button",children:"Logout"}),Object(C.jsx)(D,{onClick:d,className:"test-button",children:"Test Mode"}),Object(C.jsx)(D,{onClick:function(){return t(s.LESSON)},className:"start-lesson-button",children:"Start Lesson"}),Object(C.jsx)(D,{onClick:function(){return t(s.SHOW_ALL_CARDS)},className:"show-cards-button",children:"Show All Cards"}),Object(C.jsx)(D,{onClick:function(){return t(s.CREATE_NEW_CARD)},className:"create-card-button",children:"Create New Card"}),Object(C.jsx)(D,{onClick:function(){return t(s.CREATE_NEW_COLLECTION)},className:"create-collection-button",children:"Create New Collection"}),Object(C.jsx)(D,{onClick:function(){return t(s.SHOW_STATISTICS)},className:"show-statistics-button",children:"Show Statistics"})]})},Ye=function(){var e=Object(i.useState)(!0),t=Object(u.a)(e,2),n=t[0],c=t[1],r=k(),o=r.fetchCards,a=r.isLoggedIn,d=r.checkSession,l=r.isSessionChecking,b=Object(i.useState)(s.MAIN),j=Object(u.a)(b,2),p=j[0],h=j[1];Object(i.useEffect)((function(){d(),o()}),[d,o]),Object(i.useEffect)((function(){l&&c(!0),l||setTimeout((function(){c(!1)}),500)}),[l]);var O=Object(i.useCallback)((function(e){h(e)}),[]);return Object(C.jsxs)(qe,{children:[n&&Object(C.jsx)(B,{}),Object(C.jsx)(I,{}),a&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(He,{onViewChange:O}),Object(C.jsx)(Be,{viewType:p})]}),!a&&Object(C.jsx)(W,{})]})},qe=j.a.div.withConfig({displayName:"main__MainContainer",componentId:"sb5z0r-0"})(["display:flex;flex-direction:column;background-color:var(--tundora);background:linear-gradient(#d9d8df,#a19eae);.test-button{max-width:100px;}.start-lesson-button{max-width:200px;}.show-cards-button{max-width:200px;}.create-card-button{max-width:200px;}.create-collection-button{max-width:200px;}.show-statistics-button{max-width:200px;}"]);var Ue=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(N,{children:Object(C.jsx)(Ye,{})})})},Ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};b.a.render(Object(C.jsx)(d.a.StrictMode,{children:Object(C.jsx)(Ue,{})}),document.getElementById("root")),Ve()},9:function(e,t,n){}},[[49,1,2]]]);
//# sourceMappingURL=main.19777616.chunk.js.map