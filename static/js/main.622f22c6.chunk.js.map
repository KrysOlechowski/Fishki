{"version":3,"sources":["types/types.ts","types/enums.ts","assets/icons/arrow-down.svg","components/atoms/create-card-status/create-card-status.tsx","components/atoms/input/input.tsx","components/atoms/button/button.tsx","utils/api.ts","utils/constants.ts","assets/icons/edit.svg","components/molecules/dropdown/dropdown.tsx","utils/context.tsx","utils/hooks-card.ts","utils/utils.ts","utils/auth-api.ts","components/organisms/create-card/create-card.tsx","components/organisms/create-collection/create-collection.tsx","components/molecules/edit-button/edit-button.tsx","components/organisms/edit-card/edit-card.tsx","components/molecules/card-answers-buttons/card-answers-buttons.tsx","components/molecules/percentage-columns/percentage-columns.tsx","components/molecules/card-answers/card-answers.tsx","components/molecules/card-front-inner/card-front-inner.tsx","components/organisms/card/card.tsx","components/organisms/statistics/statistics.tsx","components/organisms/lesson-statistics/lesson-statistics.tsx","components/organisms/lesson/lesson.tsx","components/molecules/login-status/login-status.tsx","components/molecules/login-form/login-form.tsx","assets/animations/loader-dots/loader-dots.tsx","components/pages/checking-session/checking-session.tsx","components/pages/main/main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CardStatus","CardCreateStatus","CardDeleteStatus","CardUpdateStatus","_g","CreateCardStatus","status","NEW","CREATED","FAILED","Input","name","value","onChange","type","placeholder","className","Container","styled","input","Button","onClick","bgColor","children","onButtonClick","useCallback","e","ButtonWrapper","clsx","button","props","lighten","getAllCards","API_URL","getApiUrl","ky","get","json","updateCard","updatedFields","payload","post","COLLECTIONS_OPTIONS","label","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowDown","_ref","svgRef","title","titleId","xmlns","xmlnsXlink","viewBox","ref","id","transform","fill","d","_defs","ForwardRef","SvgEdit","width","height","clipPath","Dropdown","options","onSelection","useState","setValue","isOpen","setIsOpen","handleSelection","onMenuToggle","rotate","map","opt","div","contextProvider","createContext","Provider","MainContextProvider","goodAnswers","badAnswers","numberOfCards","lessonMode","setLessonMode","activeCardIndex","setActiveCardIndex","cards","setCards","error","setError","isTestMode","setIsTestMode","isLessonMode","setIsLessonMode","isLoggedIn","setIsLoggedIn","isSessionChecking","setIsSessionChecking","fetchCards","then","console","log","catch","checkSession","cookie","read_cookie","checkSessionInMongo","res","cookieExist","increaseActiveCardIndex","contextValue","useMemo","useMainContext","context","useContext","Error","useEditCard","hasError","isLoading","setIsLoading","isComplete","setIsComplete","useEffect","editCard","ok","err","editAnswer","cookieId","CreateCard","cardFront","setCardFront","cardBack","setCardBack","emptyFieldError","setEmptyFieldError","cardCreateStatus","setCardCreateStatus","dropdownOptions","cardCollection","setCardCollection","onSubmit","preventDefault","front","back","new","collectionName","PENDING","createCard","onDropdownSelect","CreateCardWrapper","action","autoComplete","CreateCollection","onCreateCollection","createNewCollection","result","EditButton","editMode","setEditMode","onEditClick","EditIconWrapper","EditCard","card","onCardFlip","_id","isOnEditMode","setIsOnEditMode","formFront","setFormFront","formBack","setFormBack","NONE","cardDeleteStatus","setCardDeletestatus","onUpdateCard","cardUpdateText","onInputChange","onDeleteCard","cardId","delete","deleteCard","DELETED","cardStatusText","deleted","CardBackInner","ButtonsWrapper","CardAnswersButtons","handleClick","answer","lesson","increasedAnswer","good","bad","Wrapper","PercentageColumns","percentageColumns","parseInt","toFixed","firstColumn","secondColumn","getAnswersColumnsChart","Column","CardAnswers","showAnswer","onShowAnswer","cardAnswers","randomNumber","Math","floor","random","visibleText","hiddenText","getVisibleAndHiddenText","isNewCard","toggleAnswer","CardFrontInner","setShowAnswer","Inner","CardComponent","flipCard","setFlipCard","cardStatusClassName","CardWrapper","size","Card","flipped","Statistics","numberOfAllCards","LessonStatistics","Lesson","cardIndex","isCompleteLesson","setIsCompleteLesson","showStatistics","setShowStatistics","prepareStatistics","Counts","LoginStatus","bake_cookie","require","LoginForm","password","setPassword","email","setEmail","loginGuestValues","login","isMatch","sessionId","onLoginAsGuest","onSessionCheck","Form","form","LoaderDots","style","backgroundColor","color","CheckingSession","Main","showAllCards","setShowAllCards","showCreateCard","setShowCreateCard","showCreateCollection","setShowCreateCollection","loading","setLoading","setTimeout","toggleTestMode","_e","startLesson","showCards","showCreateCardComponenent","showCreateCollectionComponent","showStatisticsComponent","onLogoutClick","logout","cookieDeleted","delete_cookie","MainContainer","CardsWrapper","MenuWrapper","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.622f22c6.chunk.js","sourcesContent":["export interface Card extends CardCreate {\r\n  _id: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  goodAnswers: number;\r\n  badAnswers: number;\r\n}\r\n\r\nexport interface CardCreate {\r\n  front: string;\r\n  back: string;\r\n  status: CardStatus;\r\n  collectionName: string;\r\n}\r\n\r\nexport interface CardUpdate {\r\n  id?: string;\r\n  front?: string;\r\n  back?: string;\r\n  collectionName?: string;\r\n  goodAnswers?: number;\r\n  badAnswers?: number;\r\n  status?: CardStatus;\r\n}\r\n\r\nexport enum CardStatus {\r\n  new = \"new\",\r\n  good = \"good\",\r\n  bad = \"bad\",\r\n}\r\n\r\nexport interface ContextLessonMode {\r\n  goodAnswers: number;\r\n  badAnswers: number;\r\n  numberOfCards: number;\r\n}\r\n\r\nexport interface Context {\r\n  activeCardIndex: number;\r\n  increaseActiveCardIndex: () => void;\r\n  cards: Card[];\r\n  error: boolean;\r\n  fetchCards: () => void;\r\n  lessonMode: ContextLessonMode;\r\n  setLessonMode: (lessonMode: ContextLessonMode) => void;\r\n  isTestMode: boolean;\r\n  setIsTestMode: (bool: boolean) => void;\r\n  isLessonMode: boolean;\r\n  setIsLessonMode: (bool: boolean) => void;\r\n  isLoggedIn: boolean;\r\n  setIsLoggedIn: (bool: boolean) => void;\r\n  checkSession: () => void;\r\n  isSessionChecking: boolean;\r\n}\r\n","export enum CardCreateStatus {\r\n  NEW = \"NEW\",\r\n  PENDING = \"PENDING\",\r\n  CREATED = \"CREATED\",\r\n  FAILED = \"FAILED\",\r\n}\r\n\r\nexport enum CardDeleteStatus {\r\n  NONE = \"NONE\",\r\n  DELETED = \"DELETED\",\r\n  FAILED = \"FAILED\",\r\n  PENDING = \"PENDING\",\r\n}\r\n\r\nexport enum CardUpdateStatus {\r\n  NONE = \"NONE\",\r\n  PENDING = \"PENDING\",\r\n  FAILED = \"FAILED\",\r\n  UPDATED = \"UPDATED\",\r\n}\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"-10 0 1034 1024\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1 0 0 -1 0 832)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M512 166.72l-261.28 261.28l45.28 45.28l216 -216l216 216l45.28 -45.28z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDown);\nexport default __webpack_public_path__ + \"static/media/arrow-down.e802fb6d.svg\";\nexport { ForwardRef as ReactComponent };","import { FC } from 'react';\r\nimport { CardCreateStatus } from '../../../types';\r\n\r\n\r\ninterface Props {\r\n   status?: CardCreateStatus;\r\n}\r\n\r\n\r\n\r\nexport const CreateCardStatus: FC<Props> = ({ status }) => {\r\n\r\n\r\n   if (status === CardCreateStatus.NEW) {\r\n      return (\r\n         <>\r\n            <h3>Create card</h3>\r\n         </>\r\n      )\r\n   } else if (status === CardCreateStatus.CREATED) {\r\n      return (\r\n         <>\r\n            <h3>Card Created</h3>\r\n         </>\r\n      )\r\n   } else if (status === CardCreateStatus.FAILED) {\r\n      return (\r\n         <>\r\n            <h3>Creatind card failed</h3>\r\n         </>\r\n      )\r\n   } else {\r\n      return (\r\n         <>\r\n            <h3>...</h3>\r\n         </>\r\n      )\r\n   }\r\n};\r\n\r\n","import { FC,  } from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\n\r\n\r\ninterface Props {\r\n   name:string;\r\n   value:string;\r\n   onChange:any;\r\n   type:string;\r\n   placeholder:string;\r\n   className?:string;\r\n}\r\n\r\n\r\n\r\nexport const Input: FC<Props> = ({name,value,onChange,type,placeholder,className}) => {\r\n  \r\n\r\n   return (\r\n      <Container name={name} value={value} onChange={onChange} type={type} placeholder={placeholder} className={className}>\r\n\r\n      </Container>\r\n   )\r\n};\r\n\r\nconst Container=styled.input`\r\n   border:1px solid red;\r\n   padding: 5px;\r\n    border-radius: 10px;\r\n    border-color: #3f3f3f;\r\n    margin: 5px 0;\r\n    outline: none;\r\n`\r\n","import clsx from 'clsx';\r\nimport { FC, useCallback, } from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport { lighten } from 'polished'\r\n\r\ninterface Props {\r\n   className?: string;\r\n   name?: string;\r\n   onClick?: (e: React.MouseEvent<HTMLElement>) => void;\r\n   bgColor?: string;\r\n   children: string;\r\n   type?:\"button\" | \"submit\" | \"reset\" | undefined;\r\n}\r\n\r\n\r\n\r\nexport const Button: FC<Props> = ({ onClick, className, name, bgColor, children ,type}) => {\r\n\r\n   const onButtonClick = useCallback(\r\n      (e) => {\r\n         onClick && onClick(e)\r\n      },\r\n      [onClick],\r\n   )\r\n\r\n   return (\r\n      <ButtonWrapper bgColor={bgColor} name={name} onClick={onButtonClick} className={clsx(\"button\", className)} type={type}>\r\n         {children}\r\n      </ButtonWrapper>\r\n   )\r\n};\r\n\r\ninterface ButtonProps {\r\n   bgColor?: string;\r\n}\r\n\r\nconst ButtonWrapper = styled.button<ButtonProps>`\r\n   width:100%;\r\n   padding:5px 10px;\r\n   border-radius:10px;\r\n   outline:none;\r\n   background-color:${props => props.bgColor ? props.bgColor : \"#3F3F3F\"};\r\n   color:white;\r\n\r\n     &:hover, &:focus {\r\n        cursor: pointer;\r\n        background-color:${props => props.bgColor ? lighten('0.1', props.bgColor) : lighten('0.1', \"#3F3F3F\")};\r\n  }\r\n`\r\n","import ky from \"ky\";\r\nimport { CardCreate, CardUpdate, Card } from \"../types\";\r\n\r\nexport const getAllCards = (): Promise<Array<Card>> => {\r\n  const API_URL = getApiUrl();\r\n  return ky.get(`${API_URL}/cards`).json();\r\n};\r\n\r\nexport const createCard = (payload: CardCreate): Promise<unknown> => {\r\n  const API_URL = getApiUrl();\r\n  return ky.post(`${API_URL}/add`, { json: payload });\r\n};\r\n\r\nexport const deleteCard = (id: string): Promise<any> => {\r\n  const API_URL = getApiUrl();\r\n  const payload = {\r\n    cardId: id,\r\n  };\r\n  return ky.delete(`${API_URL}/delete`, { json: payload }).json();\r\n};\r\n\r\nexport const updateCard = (updatedFields: CardUpdate): Promise<any> => {\r\n  const API_URL = getApiUrl();\r\n  const payload = updatedFields;\r\n  return ky.post(`${API_URL}/update`, { json: payload }).json();\r\n};\r\n\r\nexport const getCollectionsNamesAndCards = async () => {\r\n  const API_URL = getApiUrl();\r\n\r\n  try {\r\n    const collectionsNames = await ky.get(`${API_URL}/collections`).json();\r\n    const cards = await ky.get(`${API_URL}/cards`).json();\r\n    console.log(collectionsNames);\r\n    console.log(cards);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getCollectionsNames = (): Promise<Array<Card>> => {\r\n  const API_URL = getApiUrl();\r\n  return ky.get(`${API_URL}/collections`).json();\r\n};\r\n\r\nexport const createNewCollection = (name: string): Promise<Array<Card>> => {\r\n  const API_URL = getApiUrl();\r\n  const payload = {\r\n    name: name,\r\n  };\r\n  return ky.post(`${API_URL}/collections`, { json: payload }).json();\r\n};\r\n\r\nexport const getApiUrl = (): string => {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    return \"http://localhost:3003\";\r\n  } else {\r\n    return \"https://node11255.herokuapp.com\";\r\n  }\r\n};\r\n","export const COLLECTIONS_OPTIONS=[\r\n   { label: \"angielski\" }, { label: \"test\" }\r\n]\r\n","var _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30,\n    height: 30,\n    viewBox: \"0 0 30 30\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0-856330)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.6425 15C24.0508 15 23.5711 15.4797 23.5711 16.0715V26.7856C23.5711 27.3773 23.0914 27.857 22.4996 27.857H3.21424C2.6225 27.857 2.14281 27.3773 2.14281 26.7856V5.35731C2.14281 4.76556 2.6225 4.28587 3.21424 4.28587H16.0712C16.663 4.28587 17.1427 3.80619 17.1427 3.21444C17.1427 2.62269 16.663 2.14307 16.0712 2.14307H3.21424C1.43906 2.14307 0 3.58213 0 5.35731V26.7856C0 28.5608 1.43906 29.9998 3.21424 29.9998H22.4997C24.2749 29.9998 25.7139 28.5608 25.7139 26.7856V16.0714C25.7139 15.4797 25.2343 15 24.6425 15Z\",\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.799 1.20165C28.0297 0.432239 26.9863 7.44999e-05 25.8983 0.000200056C24.8096 -0.00293885 23.7651 0.429979 22.998 1.20234L8.88524 15.3139C8.76816 15.4318 8.67983 15.5752 8.62703 15.7328L6.48422 22.1613C6.2972 22.7227 6.60074 23.3294 7.16216 23.5163C7.27108 23.5526 7.38515 23.5711 7.49991 23.5713C7.61492 23.5711 7.72924 23.5526 7.83847 23.5167L14.267 21.3738C14.4249 21.3211 14.5683 21.2323 14.6859 21.1146L28.7986 7.00191C30.4004 5.40032 30.4006 2.80343 28.799 1.20165ZM27.2836 5.48795L13.3552 19.4164L9.1938 20.806L10.5791 16.6499L24.5129 2.72157C25.2789 1.95706 26.5197 1.95831 27.2842 2.72433C27.6494 3.09027 27.8552 3.58565 27.8568 4.10263C27.8581 4.62237 27.6517 5.12108 27.2836 5.48795Z\",\n    fill: \"black\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0-856330\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 30,\n    height: 30,\n    fill: \"b\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.8051115a.svg\";\nexport { ForwardRef as ReactComponent };","import clsx from \"clsx\";\r\nimport { FC, useCallback, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Wrapper as DropdownWrapper,\r\n  Menu,\r\n  MenuItem,\r\n} from \"react-aria-menubutton\";\r\n\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { ArrowDownIcon } from \"../../../assets/icons\";\r\nimport \"../../../theme/variables.scss\";\r\ninterface Props {\r\n  options: { label: string }[];\r\n  onSelection: (value: string) => void;\r\n  className?: string;\r\n}\r\n\r\nexport const Dropdown: FC<Props> = ({ options, onSelection, className }) => {\r\n  const [value, setValue] = useState(options[0].label);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const onMenuToggle = (e: {\r\n    isOpen: boolean | ((prevState: boolean) => boolean);\r\n  }) => {\r\n    setIsOpen(e.isOpen);\r\n  };\r\n\r\n  const handleSelection = useCallback(\r\n    (e) => {\r\n      setValue(e);\r\n      onSelection(e);\r\n    },\r\n    [onSelection]\r\n  );\r\n\r\n  return (\r\n    <Container className={clsx(\"wrapper\", className)}>\r\n      <DropdownWrapper\r\n        className=\"dropdown\"\r\n        onSelection={handleSelection}\r\n        onMenuToggle={onMenuToggle}\r\n      >\r\n        <Button className=\"dropdown-title\">\r\n          <div>{value}</div>\r\n          <div>\r\n            <ArrowDownIcon\r\n              className={clsx(\"dropdown-arrow\", { rotate: isOpen })}\r\n            />\r\n          </div>\r\n        </Button>\r\n        <Menu className=\"dropdown-menu-wrapper\">\r\n          <ul className=\"dropdown-menu\">\r\n            {options.map((opt, i) => {\r\n              return (\r\n                <MenuItem\r\n                  value={opt.label}\r\n                  className=\"dropdown-menu-item\"\r\n                  key={i}\r\n                >\r\n                  <li className=\"menu-item-wrapper\">\r\n                    <div className=\"menu-item-inner\">\r\n                      <div> {opt.label} </div>\r\n                    </div>\r\n                  </li>\r\n                </MenuItem>\r\n              );\r\n            })}\r\n          </ul>\r\n        </Menu>\r\n      </DropdownWrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  .dropdown {\r\n    border: 1px solid #3f3f3f;\r\n    text-align-last: left;\r\n    background-color: white;\r\n    border-radius: 10px;\r\n    border-width: 2px;\r\n    position: relative;\r\n  }\r\n\r\n  .dropdown-title {\r\n    outline: none;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 5px;\r\n    color: var(--abbey);\r\n    max-width: 260px;\r\n  }\r\n\r\n  .dropdown-arrow {\r\n    position: absolute;\r\n    width: 1.8em;\r\n    pointer-events: none;\r\n    right: 5px;\r\n    top: 50%;\r\n    transform: translateY(-50%) translateX(-50%) rotate(-90deg);\r\n    transition: all 0.3s ease;\r\n\r\n    &.rotate {\r\n      transform: translateY(-50%) translateX(-50%) rotate(0);\r\n    }\r\n  }\r\n\r\n  .dropdown-menu-wrapper {\r\n    outline: none;\r\n    position: absolute;\r\n    z-index: 999999;\r\n    width: 100%;\r\n    max-width: 260px;\r\n    box-sizing: border-box;\r\n\r\n    .dropdown-menu {\r\n      list-style-type: none;\r\n      margin: 0;\r\n      padding: 0;\r\n\r\n      .dropdown-menu-item {\r\n        color: var(--abbey);\r\n        outline: none;\r\n        border: 1px solid #3f3f3f;\r\n        border-width: 2px;\r\n        border-radius: 10px;\r\n        background: white;\r\n\r\n        &:hover {\r\n          background-color: var(--gallery);\r\n          cursor: pointer;\r\n        }\r\n\r\n        .menu-item-wrapper {\r\n          padding: 10px 15px;\r\n          color: inherit;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useCallback, useContext, useState } from \"react\";\r\nimport { createContext, useMemo } from \"react\";\r\nimport { getAllCards } from \".\";\r\nimport { Card, Context, ContextLessonMode } from \"../types\";\r\nimport { checkSessionInMongo } from \"../utils\";\r\n\r\nimport { read_cookie } from \"sfcookies\";\r\n\r\nconst contextProvider = createContext<Context | null>(null);\r\n\r\nconst Provider = contextProvider.Provider;\r\n\r\nexport const MainContextProvider: React.FC = ({ children }) => {\r\n  const [lessonMode, setLessonMode] = useState<ContextLessonMode>({\r\n    goodAnswers: 0,\r\n    badAnswers: 0,\r\n    numberOfCards: 0,\r\n  });\r\n  const [activeCardIndex, setActiveCardIndex] = useState(0);\r\n  const [cards, setCards] = useState<Card[]>([]);\r\n\r\n  const [error, setError] = useState<boolean>(false);\r\n  const [isTestMode, setIsTestMode] = useState(false);\r\n  const [isLessonMode, setIsLessonMode] = useState(false);\r\n\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isSessionChecking, setIsSessionChecking] = useState(true);\r\n\r\n  const fetchCards = useCallback(() => {\r\n    getAllCards()\r\n      .then((cards) => {\r\n        console.log(cards);\r\n        setCards(cards);\r\n      })\r\n      .catch(() => setError(true));\r\n  }, []);\r\n\r\n  const checkSession = useCallback(() => {\r\n    setIsSessionChecking(true);\r\n    const cookie = read_cookie(\"fishki\");\r\n    console.log(cookie);\r\n    if (cookie) {\r\n      checkSessionInMongo(cookie).then((res) => {\r\n        setIsSessionChecking(false);\r\n        if (res.cookieExist) {\r\n          setIsLoggedIn(true);\r\n        } else {\r\n          setIsLoggedIn(false);\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const increaseActiveCardIndex = useCallback(() => {\r\n    const increasedIndex = activeCardIndex + 1;\r\n    setActiveCardIndex(increasedIndex);\r\n  }, [activeCardIndex]);\r\n\r\n  const contextValue = useMemo(\r\n    () => ({\r\n      cards,\r\n      error,\r\n      fetchCards,\r\n      activeCardIndex,\r\n      increaseActiveCardIndex,\r\n      lessonMode,\r\n      setLessonMode,\r\n      isTestMode,\r\n      setIsTestMode,\r\n      isLessonMode,\r\n      setIsLessonMode,\r\n      isLoggedIn,\r\n      setIsLoggedIn,\r\n      checkSession,\r\n      isSessionChecking,\r\n    }),\r\n    [\r\n      cards,\r\n      error,\r\n      fetchCards,\r\n      activeCardIndex,\r\n      increaseActiveCardIndex,\r\n      lessonMode,\r\n      setLessonMode,\r\n      isTestMode,\r\n      setIsTestMode,\r\n      isLessonMode,\r\n      setIsLessonMode,\r\n      isLoggedIn,\r\n      setIsLoggedIn,\r\n      checkSession,\r\n      isSessionChecking,\r\n    ]\r\n  );\r\n\r\n  return <Provider value={contextValue}>{children}</Provider>;\r\n};\r\n\r\nexport const useMainContext = () => {\r\n  const context = useContext(contextProvider);\r\n  if (context === null) {\r\n    throw Error(\"Context has not been Provided!\");\r\n  }\r\n  return context;\r\n};\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { getAllCards, updateCard } from \"./api\";\r\nimport { Card, CardUpdate } from \"../types\";\r\nimport { useMainContext } from \"./context\";\r\n\r\nexport const useGetAllCards = () => {\r\n  const [cards, setCards] = useState<Array<Card> | null>(null);\r\n  const [hasError, setError] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      setIsLoading(true);\r\n      setError(false);\r\n      getAllCards()\r\n        .then(setCards)\r\n        .catch(() => setError(true))\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [isLoading, cards]);\r\n\r\n  return { cards, hasError, isLoading };\r\n};\r\n\r\nexport const useEditCard = () => {\r\n  const [hasError, setError] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isComplete, setIsComplete] = useState(false);\r\n  const { fetchCards, increaseActiveCardIndex } = useMainContext();\r\n\r\n  useEffect(() => {\r\n    setIsComplete(false);\r\n  }, [isLoading]);\r\n\r\n  const editCard = useCallback(\r\n    (updatedFields: CardUpdate) => {\r\n      setIsLoading(true);\r\n      updateCard(updatedFields)\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            setIsComplete(true);\r\n            setIsLoading(false);\r\n            fetchCards();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setError(true);\r\n          setIsLoading(false);\r\n          console.log(err);\r\n        });\r\n    },\r\n    [fetchCards]\r\n  );\r\n\r\n  const editAnswer = useCallback(\r\n    (updatedFields: CardUpdate) => {\r\n      setIsLoading(true);\r\n      updateCard(updatedFields)\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            setIsComplete(true);\r\n            setIsLoading(false);\r\n            increaseActiveCardIndex();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setError(true);\r\n          setIsLoading(false);\r\n          console.log(err);\r\n        });\r\n    },\r\n    [increaseActiveCardIndex]\r\n  );\r\n\r\n  return { hasError, isLoading, isComplete, editCard, editAnswer };\r\n};\r\n","\r\nexport const getVisibleAndHiddenText = (front: string, back: string) => {\r\n  const randomNumber = Math.floor(Math.random() * 2);\r\n\r\n  const visibleText = randomNumber === 0 ? front : back;\r\n  const hiddenText = randomNumber === 0 ? back : front;\r\n  const cardAnswers = {\r\n    visibleText,\r\n    hiddenText,\r\n  };\r\n  return cardAnswers;\r\n};\r\n\r\nexport const getAnswersColumnsChart = (\r\n  goodAnswers: number,\r\n  badAnswers: number\r\n): { firstColumn: number; secondColumn: number; goodAnswers:number; badAnswers:number} => {\r\n  const total = goodAnswers+badAnswers;\r\n\r\n  const result: number = parseInt(((goodAnswers * 100) / total).toFixed(2), 10);\r\n  const firstColumn = result;\r\n  const secondColumn = 100 - firstColumn;\r\n\r\n  return {\r\n    firstColumn: firstColumn,\r\n    secondColumn: secondColumn,\r\n    goodAnswers:goodAnswers,badAnswers:badAnswers\r\n  };\r\n};\r\n","import ky from \"ky\";\r\nimport { Login } from \"../types/auth-types\";\r\nimport { getApiUrl } from \"./api\";\r\n\r\nexport const login = (payload: Login): Promise<any> => {\r\n  const API_URL = getApiUrl();\r\n  return ky.post(`${API_URL}/login`, { json: payload }).json();\r\n};\r\n\r\nexport const logout = (cookieId: string): Promise<any> => {\r\n  const API_URL = getApiUrl();\r\n  const payload = {\r\n    cookieId: cookieId,\r\n  };\r\n  return ky.post(`${API_URL}/logout`, { json: payload }).json();\r\n};\r\n\r\nexport const checkSessionInMongo = (cookieId: string): Promise<any> => {\r\n  const API_URL = getApiUrl();\r\n  const payload = {\r\n    cookie: cookieId,\r\n  };\r\n  return ky.post(`${API_URL}/session`, { json: payload }).json();\r\n};\r\n","import React, { FC, useCallback, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { CreateCardStatus } from \"../../atoms/create-card-status\";\r\nimport { Input } from \"../../atoms/input\";\r\nimport { Button } from \"../../atoms/button\";\r\nimport { CardCreateStatus, CardStatus } from \"../../../types\";\r\n\r\nimport { createCard } from \"../../../utils/api\";\r\nimport { COLLECTIONS_OPTIONS } from \"../../../utils/constants\";\r\nimport { Dropdown } from \"../../molecules/dropdown\";\r\nimport { useMainContext } from \"../../../utils\";\r\n\r\nimport \"../../../theme/variables.scss\";\r\n\r\ninterface Props {}\r\n\r\nexport const CreateCard: FC<Props> = () => {\r\n  const [cardFront, setCardFront] = useState(\"\");\r\n  const [cardBack, setCardBack] = useState(\"\");\r\n  const [emptyFieldError, setEmptyFieldError] = useState(false);\r\n  const [cardCreateStatus, setCardCreateStatus] = useState(\r\n    CardCreateStatus.NEW\r\n  );\r\n\r\n  const dropdownOptions = COLLECTIONS_OPTIONS;\r\n  const [cardCollection, setCardCollection] = useState(\r\n    COLLECTIONS_OPTIONS[0].label\r\n  );\r\n\r\n  const { fetchCards } = useMainContext();\r\n\r\n  const onSubmit: any = useCallback(\r\n    (e: any) => {\r\n      e.preventDefault();\r\n      if (!cardFront || !cardBack || !cardCollection) {\r\n        setEmptyFieldError(true);\r\n      } else {\r\n        setEmptyFieldError(false);\r\n        const payload = {\r\n          front: cardFront,\r\n          back: cardBack,\r\n          status: CardStatus.new,\r\n          collectionName: cardCollection,\r\n        };\r\n        setCardCreateStatus(CardCreateStatus.PENDING);\r\n        createCard(payload)\r\n          .then(() => {\r\n            setCardCreateStatus(CardCreateStatus.CREATED);\r\n            setCardFront(\"\");\r\n            setCardBack(\"\");\r\n            fetchCards();\r\n          })\r\n          .catch((err) => {\r\n            setCardCreateStatus(CardCreateStatus.FAILED);\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n    [cardFront, cardBack, cardCollection, fetchCards]\r\n  );\r\n\r\n  const onChange = useCallback((e: any) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    if (name === \"front\") {\r\n      setCardFront(value);\r\n    } else {\r\n      setCardBack(value);\r\n    }\r\n  }, []);\r\n\r\n  const onDropdownSelect = useCallback((value) => {\r\n    setCardCollection(value);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <CreateCardWrapper>\r\n        <h1>Create card</h1>\r\n        <form action=\"submit\" onSubmit={onSubmit} autoComplete=\"off\">\r\n          <div className=\"\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Front\"\r\n              onChange={onChange}\r\n              name=\"front\"\r\n              value={cardFront}\r\n            />\r\n          </div>\r\n          <div className=\"\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Back\"\r\n              onChange={onChange}\r\n              value={cardBack}\r\n              name=\"back\"\r\n            />\r\n          </div>\r\n          <div className=\"\">\r\n            <Dropdown\r\n              onSelection={onDropdownSelect}\r\n              options={dropdownOptions}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"\">\r\n            <Button className=\"create-card-button\" type=\"submit\">\r\n              Submit\r\n            </Button>\r\n          </div>\r\n          <CreateCardStatus status={cardCreateStatus} />\r\n          {emptyFieldError && (\r\n            <div className=\"\">\r\n              <p>You need to fill all the required forms</p>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </CreateCardWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nconst CreateCardWrapper = styled.div`\r\n  width: 350px;\r\n  padding: 50px;\r\n  border: 1px solid white;\r\n  background-color: var(--mine-shaft);\r\n  color: white;\r\n\r\n  .create-card-button {\r\n    margin: 10px 0;\r\n  }\r\n`;\r\n","import { FC, useCallback } from 'react';\r\nimport { createNewCollection } from '../../../utils';\r\ninterface Props {\r\n}\r\nexport const CreateCollection: FC<Props> = () => {\r\n   const onCreateCollection = useCallback(\r\n      (e) => {\r\n         e.preventDefault()\r\n         createNewCollection(\"lolo\").then((result) => {\r\n            console.log(result)\r\n         })\r\n      },\r\n      [],\r\n   )\r\n   return (\r\n      <div>\r\n         <form onSubmit={onCreateCollection}>\r\n            Create collection:\r\n               <button >Create Colection</button>\r\n         </form>\r\n      </div>\r\n   )\r\n};\r\n\r\n","import clsx from 'clsx';\r\nimport { FC, useCallback, useState } from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { EditIcon } from '../../../assets/icons'\r\n\r\ninterface Props {\r\n   onClick: () => void;\r\n}\r\n\r\nexport const EditButton: FC<Props> = ({ onClick }) => {\r\n   const [editMode, setEditMode] = useState(false)\r\n\r\n   const onEditClick = useCallback(\r\n      () => {\r\n         setEditMode(!editMode)\r\n         onClick()\r\n      },\r\n      [editMode, onClick],\r\n   )\r\n\r\n   return (\r\n      <EditIconWrapper>\r\n         <EditIcon className={clsx(\"iconWrapper\", { editMode: editMode })} onClick={onEditClick} />\r\n      </EditIconWrapper>\r\n   )\r\n};\r\n\r\nconst EditIconWrapper = styled.div`\r\n      position:absolute;\r\n      top:6px;\r\n      right:10px;\r\n\r\n      svg{\r\n         width:17px;\r\n         height:17px;\r\n      }\r\n\r\n      &:hover{\r\n         cursor: pointer;\r\n      }\r\n`\r\n","import clsx from 'clsx';\r\nimport { FC, useCallback, useEffect, useMemo, useState } from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { Card, CardDeleteStatus, CardUpdate, } from '../../../types';\r\nimport { deleteCard, useEditCard, useMainContext, } from '../../../utils';\r\nimport { COLLECTIONS_OPTIONS } from '../../../utils/constants';\r\nimport { Dropdown } from '../../molecules/dropdown'\r\nimport { EditButton } from '../../molecules/edit-button';\r\nimport { Button } from '../../atoms/button'\r\n\r\n\r\ninterface Props {\r\n   card: Card;\r\n   onCardFlip: () => void;\r\n}\r\n\r\n\r\n\r\nexport const EditCard: FC<Props> = ({ card, onCardFlip }) => {\r\n   const dropdownOptions = COLLECTIONS_OPTIONS\r\n\r\n   const { front, back, status, _id: id } = card\r\n   const [isOnEditMode, setIsOnEditMode] = useState(false)\r\n   const [formFront, setFormFront] = useState(front)\r\n   const [formBack, setFormBack] = useState(back)\r\n   const [cardCollection, setCardCollection] = useState(COLLECTIONS_OPTIONS[0].label)\r\n   const [cardDeleteStatus, setCardDeletestatus] = useState(CardDeleteStatus.NONE)\r\n\r\n   const { hasError, isLoading, isComplete, editCard } = useEditCard()\r\n   const { fetchCards } = useMainContext()\r\n   useEffect(() => {\r\n      isComplete && setIsOnEditMode(false)\r\n   }, [isComplete])\r\n\r\n   const onDropdownSelect = useCallback((value) => {\r\n      setCardCollection(value)\r\n   }, [])\r\n\r\n   const onUpdateCard = useCallback(\r\n      () => {\r\n         const updatedFields: CardUpdate = {\r\n            id: id,\r\n            front: formFront,\r\n            back: formBack,\r\n            collectionName: cardCollection\r\n         }\r\n         editCard(updatedFields)\r\n      },\r\n      [id, formFront, formBack, cardCollection, editCard],\r\n   )\r\n\r\n\r\n   const cardUpdateText = useMemo(() => {\r\n      if (isComplete) {\r\n         return \"Card Updated\"\r\n      }\r\n      else if (isLoading) {\r\n         return \"Updating...\"\r\n      } else if (hasError) {\r\n         return \"Updating Card Failed\"\r\n      } else if (!isLoading) {\r\n         return \"Update Card\"\r\n      } else {\r\n         return \"\"\r\n      }\r\n   }, [hasError, isLoading, isComplete])\r\n\r\n   const onInputChange = useCallback(\r\n      (e) => {\r\n         const { name, value } = e.target\r\n         if (name === \"front\") {\r\n            setFormFront(value)\r\n         } else {\r\n            setFormBack(value)\r\n         }\r\n      },\r\n      [],\r\n   )\r\n   const onDeleteCard = useCallback(\r\n      () => {\r\n         setCardDeletestatus(CardDeleteStatus.PENDING)\r\n         const cardId = id\r\n         deleteCard(cardId).then((res) => {\r\n            console.log(\"card deleted:\" + res)\r\n            setCardDeletestatus(CardDeleteStatus.DELETED)\r\n            fetchCards()\r\n         }).catch((err) => {\r\n            console.log(err)\r\n            setCardDeletestatus(CardDeleteStatus.FAILED)\r\n\r\n         })\r\n      },\r\n      [id, fetchCards],\r\n   )\r\n\r\n\r\n   const cardStatusText = useMemo(() => {\r\n      if (cardDeleteStatus === CardDeleteStatus.NONE) {\r\n         return \"Delete Card\"\r\n      }\r\n      else if (cardDeleteStatus === CardDeleteStatus.PENDING) {\r\n         return \"Removing....\"\r\n      } else if (cardDeleteStatus === CardDeleteStatus.FAILED) {\r\n         return \"Failed removing card\"\r\n      } else if (cardDeleteStatus === CardDeleteStatus.DELETED) {\r\n         return \"Card deleted\"\r\n      } else {\r\n         return \"\"\r\n      }\r\n   }, [cardDeleteStatus])\r\n\r\n   return (\r\n      <Container status={status} className={clsx(\"wrapper\", { editMode: isOnEditMode }, { deleted: cardDeleteStatus === CardDeleteStatus.DELETED })}>\r\n\r\n         <CardBackInner>\r\n            <EditButton onClick={onCardFlip} />\r\n            <div>Front:</div>\r\n            <Input name=\"front\" value={formFront} onChange={onInputChange} autoComplete=\"off\"></Input>\r\n            <div>Back:</div>\r\n            <Input name=\"back\" value={formBack} onChange={onInputChange} autoComplete=\"off\"></Input>\r\n            <div>Collection:</div>\r\n            <Dropdown onSelection={onDropdownSelect} options={dropdownOptions} />\r\n         </CardBackInner>\r\n         <ButtonsWrapper>\r\n            <Button className=\"edit-card-button\" onClick={onUpdateCard}>{cardUpdateText}</Button>\r\n            <Button className=\"edit-card-button\" bgColor=\"#F48A94\" onClick={onDeleteCard}>{cardStatusText}</Button>\r\n         </ButtonsWrapper>\r\n\r\n      </Container>\r\n   )\r\n};\r\n\r\ninterface WrapperProps {\r\n   status?: string;\r\n}\r\n\r\nconst Container = styled.div<WrapperProps>`\r\n display:flex;\r\n flex-direction:column;\r\n\r\n`\r\nconst CardBackInner = styled.div`\r\n   height:  275px;\r\n   background: linear-gradient(#F7F8FA, #C8C8C7);\r\n   padding:20px;\r\n   border-top-left-radius: 25px;\r\n    border-top-right-radius: 25px;\r\n`\r\n\r\nconst Input = styled.input`\r\n   padding: 5px;\r\n    border-radius: 10px;\r\n    border-color: #3f3f3f;\r\n    margin: 5px 0;\r\n    outline: none;\r\n`\r\n\r\nconst ButtonsWrapper = styled.div`\r\n   margin-top:13px;\r\n   background-color:white;\r\n   display:flex;\r\n\r\n   .edit-card-button{\r\n      margin:10px;\r\n   }\r\n`\r\n","import { FC, useCallback } from 'react';\r\n\r\nimport clsx from 'clsx';\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { Card, CardStatus } from '../../../types';\r\nimport { useEditCard, useMainContext } from '../../../utils';\r\nimport { Button } from '../../atoms/button'\r\n\r\n\r\ninterface Props {\r\n   card: Card;\r\n}\r\n\r\n\r\n\r\nexport const CardAnswersButtons: FC<Props> = ({ card }) => {\r\n\r\n   const { editAnswer } = useEditCard()\r\n   const { lessonMode, setLessonMode } = useMainContext()\r\n   const handleClick = useCallback(\r\n      (e) => {\r\n         e.preventDefault()\r\n         const answer = e.target.name\r\n         const { goodAnswers, badAnswers } = card\r\n         const lesson = lessonMode\r\n         if (answer === \"good\") {\r\n            const increasedAnswer = lessonMode.goodAnswers + 1\r\n            setLessonMode({ ...lesson, goodAnswers: increasedAnswer })\r\n            editAnswer({ id: card._id, goodAnswers: goodAnswers + 1, status: CardStatus.good })\r\n         } else {\r\n            const increasedAnswer = lessonMode.badAnswers + 1\r\n            setLessonMode({ ...lesson, badAnswers: increasedAnswer })\r\n            editAnswer({ id: card._id, badAnswers: badAnswers + 1, status: CardStatus.bad })\r\n         }\r\n      },\r\n      [card, lessonMode, setLessonMode, editAnswer],\r\n   )\r\n\r\n\r\n\r\n   return (\r\n      <Wrapper className={clsx(\"wrapper\")}>\r\n         <Button className=\"card-answer-button\" onClick={handleClick} name=\"good\">Good</Button>\r\n         <Button className=\"card-answer-button\" onClick={handleClick} name=\"bad\">Bad</Button>\r\n      </Wrapper>\r\n   )\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n   margin-top:13px;\r\n   display:flex;\r\n\r\n   .card-answer-button{\r\n      margin:10px\r\n   }\r\n`\r\n\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { getAnswersColumnsChart } from \"../../../utils\";\r\n\r\nimport \"../../../theme/variables.scss\";\r\n\r\ninterface Props {\r\n  firstColumn: number;\r\n  secondColumn: number;\r\n}\r\n\r\nexport const PercentageColumns: FC<Props> = ({ firstColumn, secondColumn }) => {\r\n  const percentageColumns = getAnswersColumnsChart(firstColumn, secondColumn);\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"inner-wrapper\">\r\n        <div className=\"row-wrapper good\">\r\n          <Column value={percentageColumns.firstColumn} bgColor=\"#3DC99C\" />\r\n          <div className=\"text\">{percentageColumns.goodAnswers}</div>\r\n        </div>\r\n        <div className=\"row-wrapper bad\">\r\n          <Column value={percentageColumns.secondColumn} bgColor=\"#F48A94\" />\r\n          <div className=\"text\">{percentageColumns.badAnswers}</div>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ColumnProps {\r\n  value: number;\r\n  bgColor: string;\r\n}\r\n\r\nconst Column = styled.div<ColumnProps>`\r\n  background-color: ${(props) => props.bgColor};\r\n  width: ${(props) => props.value + 1}%;\r\n  height: 5px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  height: 50px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n\r\n  .text {\r\n    transform: translateY(-2px);\r\n    margin-left: 5px;\r\n    font-size: 10px;\r\n  }\r\n\r\n  .good {\r\n    color: var(--primaryGreen);\r\n    border-left: 1px solid var(--primaryGreen);\r\n  }\r\n\r\n  .bad {\r\n    color: #f48a94;\r\n    border-left: 1px solid var(--primaryRed);\r\n  }\r\n\r\n  .inner-wrapper {\r\n    width: 100px;\r\n    height: 50px;\r\n  }\r\n  .row-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    border-width: 2px;\r\n    height: 8px;\r\n  }\r\n`;\r\n","import { FC, useCallback, useMemo } from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { Card } from '../../../types';\r\nimport { getVisibleAndHiddenText } from '../../../utils';\r\nimport { PercentageColumns } from '../percentage-columns';\r\n\r\n\r\ninterface Props {\r\n   card: Card;\r\n   onShowAnswer: () => void;\r\n   showAnswer: boolean;\r\n}\r\n\r\n\r\nexport const CardAnswers: FC<Props> = ({ card, showAnswer, onShowAnswer }) => {\r\n   const { front, back, goodAnswers, badAnswers } = card\r\n   const cardAnswers = useMemo(() => getVisibleAndHiddenText(front, back), [front, back])\r\n   const isNewCard = goodAnswers===0&&badAnswers===0\r\n\r\n\r\n   const toggleAnswer = useCallback(\r\n      () => {\r\n         onShowAnswer()\r\n      },\r\n      [onShowAnswer],\r\n   )\r\n\r\n\r\n\r\n   const { visibleText, hiddenText } = cardAnswers\r\n   \r\n   return (\r\n      <Container onClick={toggleAnswer}>\r\n         <h3>{visibleText}</h3>\r\n         <div className=\"separate-answer\"></div>\r\n         {showAnswer ? <h3>{hiddenText}</h3> : <h3>Show Answer</h3>}\r\n\r\n         {showAnswer&&!isNewCard&&(\r\n            <PercentageColumns firstColumn={goodAnswers} secondColumn={badAnswers}/>\r\n         )}\r\n      </Container>\r\n   )\r\n};\r\n\r\n\r\n\r\nconst Container = styled.div`\r\n   height:100%;\r\n\r\n   .separate-answer{\r\n      border-bottom:1px solid white;\r\n   }\r\n`\r\n","import { FC, useCallback, useState, } from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { Card } from '../../../types';\r\nimport { useMainContext } from '../../../utils';\r\nimport { CardAnswers } from '../card-answers'\r\n\r\ninterface Props {\r\n   card: Card;\r\n}\r\n\r\n\r\nexport const CardFrontInner: FC<Props> = ({ card }) => {\r\n   const [showAnswer, setShowAnswer] = useState(false)\r\n\r\n   const { status, collectionName, _id: id, goodAnswers, badAnswers } = card\r\n\r\n\r\n   const { isTestMode } = useMainContext()\r\n\r\n   const onShowAnswer = useCallback(\r\n      () => {\r\n         setShowAnswer(true)\r\n      },\r\n      [setShowAnswer],\r\n   )\r\n\r\n   return (\r\n      <Container>\r\n         <Inner onClick={onShowAnswer} >\r\n            <CardAnswers card={card} onShowAnswer={onShowAnswer} showAnswer={showAnswer} />\r\n            {\r\n               isTestMode && (\r\n                  <>\r\n                     <h3>status: {status}</h3>\r\n                     <h3>collection: {collectionName}</h3>\r\n                     <h3>Good: {goodAnswers}</h3>\r\n                     <h3>Bad: {badAnswers}</h3>\r\n                     <h3>id: {id}</h3>\r\n\r\n                  </>\r\n               )\r\n            }\r\n         </Inner>\r\n         <div className=\"separate-line\"></div>\r\n      </Container>\r\n   )\r\n};\r\n\r\nconst Inner = styled.div`\r\n   height:100%;\r\n   padding:20px;\r\n\r\n   &:hover{\r\n      cursor: pointer;\r\n   }\r\n`\r\n\r\nconst Container = styled.div`\r\n   height:275px;\r\n   background: linear-gradient(#F7F8FA, #C8C8C7);\r\n   border-top-left-radius: 25px;\r\n   border-top-right-radius: 25px;\r\n\r\n   \r\n   .separate-line{\r\n   box-shadow: 0px -2px 10px 1px #3f3f3f;\r\n   }\r\n`\r\n","import React, { FC, useCallback, useMemo, useState } from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport clsx from 'clsx'\r\nimport '../../../theme/variables.scss'\r\n\r\n\r\nimport { Card as CardInterface, CardStatus } from '../../../types';\r\n\r\nimport { EditCard } from '../edit-card'\r\nimport { CardAnswersButtons } from '../../molecules/card-answers-buttons'\r\nimport { EditButton } from '../../molecules/edit-button';\r\nimport { CardFrontInner } from '../../molecules/card-front-inner'\r\ninterface Props {\r\n   card: CardInterface;\r\n}\r\n\r\n\r\nexport const CardComponent: FC<Props> = ({ card }) => {\r\n   const [flipCard, setFlipCard] = useState(false)\r\n\r\n   const cardStatusClassName = useMemo(() => {\r\n      if (card.status === CardStatus.good) {\r\n         return CardStatus.good\r\n      } else if (card.status === CardStatus.bad) {\r\n         return CardStatus.bad\r\n      } else {\r\n         return CardStatus.new\r\n      }\r\n   }, [card.status])\r\n\r\n   const onCardFlip = useCallback(\r\n      () => {\r\n         setFlipCard(!flipCard)\r\n      },\r\n      [flipCard],\r\n   )\r\n\r\n   return (\r\n      <CardWrapper size=\"16\">\r\n         <Card className={clsx({ flipped: flipCard })} >\r\n            <div className={clsx(\"cardFace front\", cardStatusClassName)}>\r\n               <EditButton onClick={onCardFlip} />\r\n               <CardFrontInner card={card} />\r\n               <CardAnswersButtons card={card} />\r\n            </div>\r\n            <div className=\"cardFace back\">\r\n               <EditCard card={card} onCardFlip={onCardFlip} />\r\n            </div>\r\n         </Card>\r\n      </CardWrapper >\r\n   )\r\n};\r\n\r\ninterface CardWrapperProps {\r\n   size: string;\r\n}\r\nconst CardWrapper = styled.div<CardWrapperProps>`\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-radius: 20px;\r\n      overflow: hidden;\r\n      width: 300px;\r\n      height: 400px;\r\n      margin: 15px;\r\n      perspective: 600px;\r\n      font-size:${props => props.size}px;\r\n   `\r\n\r\n\r\nconst Card = styled.div`\r\n   position: relative;\r\n    width: 250px;\r\n    height: 350px;\r\n   transform-style: preserve-3d;\r\n   transform-origin: center right;\r\n   transition: transform 1s;\r\n\r\n  .cardFace{\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      color: #454545;;\r\n      text-align: center; \r\n      font-weight: bold;\r\n      backface-visibility: hidden;\r\n      box-shadow: 2px 3px 15px -5px #000000;\r\n       border-radius:20px;\r\n\r\n      &.front{\r\n         background-color:white;\r\n\r\n         &.new{\r\n         /* background-image: linear-gradient(to top, #e6b980 0%, #eacda3 100%); */\r\n         }\r\n\r\n         &.good{\r\n            /* background-image: linear-gradient(to top, #0ba360 0%, #3cba92 100%); */\r\n         }\r\n\r\n         &.bad{\r\n            /* background-image: linear-gradient(to top, #ff758c 0%, #ff7eb3 100%); */\r\n         }\r\n\r\n         &.deleted{\r\n            background-color:#a63d40;\r\n            }\r\n         }\r\n\r\n      &.back{\r\n         background-color:white;\r\n           transform: rotateY(180deg);\r\n      }\r\n  }\r\n\r\n  &.flipped {\r\n      transform: translateX(-100%) rotateY(-180deg);\r\n   }\r\n`\r\n","import { FC, useMemo } from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport { useMainContext } from '../../../utils';\r\ninterface Props {\r\n}\r\n\r\nexport const Statistics: FC<Props> = () => {\r\n   const { cards } = useMainContext()\r\n\r\n   const numberOfAllCards = useMemo(() => cards.length, [cards.length])\r\n\r\n   return (\r\n      <Wrapper>\r\n         <h1>Statistics :</h1>\r\n         <h1>Number of cards: {numberOfAllCards}</h1>\r\n      </Wrapper>\r\n   )\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n\r\nborder:1px solid white;\r\nwidth:50%;\r\ncolor:white;\r\n`\r\n","import { FC, useMemo, } from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport { useMainContext } from '../../../utils';\r\n\r\n\r\n\r\ninterface Props {\r\n}\r\n\r\n\r\nexport const LessonStatistics: FC<Props> = () => {\r\n   const { lessonMode } = useMainContext()\r\n   const numberOfCards = useMemo(() => lessonMode.numberOfCards, [lessonMode.numberOfCards])\r\n   const goodAnswers = useMemo(() => lessonMode.goodAnswers, [lessonMode.goodAnswers])\r\n   const badAnswers = useMemo(() => lessonMode.badAnswers, [lessonMode.badAnswers])\r\n\r\n\r\n   return (\r\n      <Wrapper>\r\n         <h1>lesson statistics</h1>\r\n         <h3>Number Of Cards: {numberOfCards}</h3>\r\n         <h3>Good Answers: {goodAnswers}</h3>\r\n         <h3>Bad Answers: {badAnswers}</h3>\r\n      </Wrapper >\r\n   )\r\n};\r\n\r\n\r\nconst Wrapper = styled.div`\r\nborder:1px solid white;\r\n`\r\n","import React, { FC, useCallback, useEffect, useMemo, useState } from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport { useMainContext } from '../../../utils';\r\nimport { CardComponent } from '../card';\r\nimport { LessonStatistics } from '../lesson-statistics'\r\n\r\nimport '../../../theme/variables.scss'\r\n\r\n\r\ninterface Props {\r\n}\r\n\r\n\r\nexport const Lesson: FC<Props> = () => {\r\n   const { cards, activeCardIndex: cardIndex, setLessonMode, lessonMode } = useMainContext()\r\n\r\n   const [isCompleteLesson, setIsCompleteLesson] = useState(false)\r\n   const [showStatistics, setShowStatistics] = useState(false)\r\n   const [activeCardIndex, setActiveCardIndex] = useState(0)\r\n\r\n   const numberOfCards = useMemo(() => cards.length, [cards.length])\r\n\r\n   const prepareStatistics = useCallback(\r\n      () => {\r\n         const lesson = lessonMode\r\n         setLessonMode({ ...lesson, numberOfCards: numberOfCards })\r\n         setShowStatistics(true)\r\n      },\r\n      [lessonMode, numberOfCards, setLessonMode],\r\n   )\r\n\r\n   useEffect(() => {\r\n      if (isCompleteLesson && !showStatistics) {\r\n         prepareStatistics()\r\n      }\r\n   }, [isCompleteLesson, prepareStatistics, showStatistics])\r\n\r\n   useEffect(() => {\r\n      if (numberOfCards > cardIndex) {\r\n         setActiveCardIndex(cardIndex)\r\n      } else if (numberOfCards && numberOfCards === cardIndex) {\r\n         setIsCompleteLesson(true)\r\n      }\r\n   }, [cardIndex, numberOfCards, activeCardIndex])\r\n\r\n\r\n\r\n   return (\r\n      <Wrapper>\r\n         <Counts>\r\n            {activeCardIndex + 1 + \" / \" + numberOfCards}\r\n         </Counts>\r\n\r\n         <h1>{isCompleteLesson ? \"Lesson Complete\" : \"Lesson\"}</h1>\r\n         {!isCompleteLesson && cards.length > 1 && <CardComponent card={cards[activeCardIndex]} key={cards[activeCardIndex]._id} />}\r\n         {showStatistics && <LessonStatistics />}\r\n      </Wrapper >\r\n   )\r\n};\r\n\r\n\r\nconst Wrapper = styled.div`\r\nborder:1px solid white;\r\n`\r\n\r\nconst Counts = styled.div` \r\nborder:1px solid white;\r\nfont-size:20px;\r\nwidth:50px;\r\n`\r\n","import clsx from \"clsx\";\r\nimport { FC } from \"react\";\r\n\r\nimport styled from \"styled-components/macro\";\r\nimport { useMainContext } from \"../../../utils\";\r\n\r\ninterface Props {}\r\n\r\nexport const LoginStatus: FC<Props> = () => {\r\n  const { isLoggedIn } = useMainContext();\r\n\r\n  return (\r\n    <Container className={clsx(\"wrapper\")} isLoggedIn={isLoggedIn}>\r\n      {isLoggedIn ? \"Logged\" : \"NotLogged\"}\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {\r\n  isLoggedIn: boolean;\r\n}\r\n\r\nconst Container = styled.div<ContainerProps>`\r\n  border: 1px solid ${(props) => (props.isLoggedIn ? \"green\" : \"red\")};\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n`;\r\n","import React, { FC, useCallback, useState } from \"react\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { login } from \"../../../utils\";\r\nimport { useMainContext } from \"../../../utils\";\r\n\r\nimport { Input } from \"../../atoms/input\";\r\nimport { Button } from \"../../atoms/button\";\r\n\r\nimport \"../../../theme/variables.scss\";\r\n\r\ninterface Props {}\r\n\r\ntype Values = {\r\n  email: string;\r\n  password: string;\r\n};\r\n\r\nconst { bake_cookie } = require(\"sfcookies\");\r\n\r\nexport const LoginForm: FC<Props> = () => {\r\n  const [password, setPassword] = useState(\"pass\");\r\n  const [email, setEmail] = useState(\"email\");\r\n\r\n  const { isTestMode, checkSession } = useMainContext();\r\n\r\n  const onInputChange = useCallback((e) => {\r\n    const { value, name } = e.target;\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  }, []);\r\n\r\n  const onSubmit = useCallback(\r\n    (e, loginGuestValues?: Values) => {\r\n      e && e.preventDefault();\r\n      const loginValues = loginGuestValues\r\n        ? loginGuestValues\r\n        : {\r\n            email: email,\r\n            password: password,\r\n          };\r\n      login(loginValues).then((res) => {\r\n        if (!res.isMatch) {\r\n          console.log(\"Invalid Password\");\r\n        } else {\r\n          bake_cookie(\"fishki\", res.sessionId);\r\n          console.log(\"cookie created\");\r\n          checkSession();\r\n        }\r\n      });\r\n    },\r\n    [email, password, checkSession]\r\n  );\r\n\r\n  const onLoginAsGuest = useCallback(() => {\r\n    const loginGuestValues = {\r\n      email: \"guest\",\r\n      password: \"guest\",\r\n    };\r\n    onSubmit(null, loginGuestValues);\r\n  }, [onSubmit]);\r\n\r\n  const onSessionCheck = useCallback(() => {\r\n    checkSession();\r\n  }, [checkSession]);\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Login:</h1>\r\n      <Form onSubmit={onSubmit}>\r\n        <Input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={onInputChange}\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={onInputChange}\r\n          type=\"text\"\r\n          placeholder=\"Password\"\r\n        />\r\n        <Button className=\"login-form-button\" type=\"submit\">\r\n          Login\r\n        </Button>\r\n\r\n        <div className=\"login-form-guest\" onClick={onLoginAsGuest}>\r\n          Or test as a guest\r\n        </div>\r\n        {isTestMode && (\r\n          <Button\r\n            onClick={onSessionCheck}\r\n            className=\"login-form-button\"\r\n            type=\"button\"\r\n          >\r\n            Check Session\r\n          </Button>\r\n        )}\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  .login-form-button {\r\n    max-width: 200px;\r\n  }\r\n\r\n  .login-form-guest {\r\n    color: #000;\r\n    text-decoration: underline;\r\n    margin-top: 10px;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport \"./loader-dots.scss\";\r\n\r\ntype Props = {\r\n  color: string;\r\n};\r\n\r\nexport const LoaderDots = ({ color }: Props) => {\r\n  const style = {\r\n    backgroundColor: color,\r\n  };\r\n  return (\r\n    <div className=\"loading-dots\">\r\n      <div className=\"loading-dots--dot\" style={style}></div>\r\n      <div className=\"loading-dots--dot\" style={style}></div>\r\n      <div className=\"loading-dots--dot\" style={style}></div>\r\n    </div>\r\n  );\r\n};\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { LoaderDots } from \"../../../assets/animations/loader-dots\";\r\n\r\nimport \"../../../theme/variables.scss\";\r\ninterface Props {}\r\n\r\nexport const CheckingSession: FC<Props> = () => {\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"container\">\r\n        <div className=\"text-container\">Checking Session</div>\r\n        <div className=\"loader-container\">{<LoaderDots color=\"#fff\" />}</div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  background: linear-gradient(#d9d8df, #a19eae);\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  .container {\r\n    display: flex;\r\n    align-items: baseline;\r\n  }\r\n\r\n  .text-container {\r\n    margin-right: 10px;\r\n    font-size: 2rem;\r\n    color: white;\r\n  }\r\n`;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { FC, useCallback, useEffect, useState } from \"react\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nimport { CreateCard } from \"../../organisms/create-card\";\r\nimport { CreateCollection } from \"../../organisms/create-collection\";\r\n\r\nimport { Card } from \"../../../types\";\r\nimport { CardComponent } from \"../../organisms/card\";\r\nimport { Statistics } from \"../../organisms/statistics\";\r\nimport { Lesson } from \"../../organisms/lesson\";\r\nimport { Button } from \"../../atoms/button\";\r\nimport { LoginStatus } from \"../../molecules/login-status\";\r\nimport { LoginForm } from \"../../molecules/login-form\";\r\nimport { CheckingSession } from \"../checking-session\";\r\nimport { useMainContext } from \"../../../utils\";\r\nimport { logout } from \"../../../utils\";\r\n\r\nimport { read_cookie, delete_cookie } from \"sfcookies\";\r\n\r\nimport \"../../../theme/variables.scss\";\r\n\r\ninterface MainProps {}\r\n\r\nexport const Main: FC<MainProps> = () => {\r\n  const [showAllCards, setShowAllCards] = useState(false);\r\n  const [showCreateCard, setShowCreateCard] = useState(false);\r\n  const [showCreateCollection, setShowCreateCollection] = useState(false);\r\n  const [showStatistics, setShowStatistics] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const {\r\n    cards,\r\n    fetchCards,\r\n    isLoggedIn,\r\n    checkSession,\r\n    isSessionChecking,\r\n  } = useMainContext();\r\n  const {\r\n    isTestMode,\r\n    setIsTestMode,\r\n    isLessonMode,\r\n    setIsLessonMode,\r\n  } = useMainContext();\r\n\r\n  useEffect(() => {\r\n    checkSession();\r\n    fetchCards();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSessionChecking) {\r\n      setLoading(true);\r\n    }\r\n    if (!isSessionChecking) {\r\n      setTimeout(() => {\r\n        setLoading(false);\r\n      }, 1000);\r\n    }\r\n  }, [isSessionChecking]);\r\n\r\n  const toggleTestMode = useCallback(\r\n    (_e) => {\r\n      const testMode = isTestMode;\r\n      setIsTestMode(!testMode);\r\n    },\r\n    [isTestMode, setIsTestMode]\r\n  );\r\n\r\n  const startLesson = useCallback(() => {\r\n    setIsLessonMode(true);\r\n  }, []);\r\n\r\n  const showCards = useCallback(() => {\r\n    setShowAllCards(true);\r\n  }, []);\r\n\r\n  const showCreateCardComponenent = useCallback(() => {\r\n    setShowCreateCard(true);\r\n  }, []);\r\n\r\n  const showCreateCollectionComponent = useCallback(() => {\r\n    setShowCreateCollection(true);\r\n  }, []);\r\n  const showStatisticsComponent = useCallback(() => {\r\n    setShowStatistics(true);\r\n  }, []);\r\n\r\n  const onLogoutClick = useCallback(() => {\r\n    const cookieId = read_cookie(\"fishki\");\r\n    logout(cookieId).then((res) => {\r\n      if (res.cookieDeleted) {\r\n        delete_cookie(\"fishki\");\r\n      }\r\n      checkSession();\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <MainContainer>\r\n      {loading && <CheckingSession />}\r\n      <LoginStatus />\r\n      {!isLoggedIn && <LoginForm />}\r\n\r\n      {isLoggedIn && (\r\n        <>\r\n          <Button onClick={onLogoutClick} className=\"test-button\">\r\n            Logout\r\n          </Button>\r\n\r\n          <Button onClick={toggleTestMode} className=\"test-button\">\r\n            Test Mode\r\n          </Button>\r\n\r\n          <Button onClick={startLesson} className=\"start-lesson-button\">\r\n            Start Lesson\r\n          </Button>\r\n          <Button onClick={showCards} className=\"show-cards-button\">\r\n            Show All Cards\r\n          </Button>\r\n          <Button\r\n            onClick={showCreateCardComponenent}\r\n            className=\"create-card-button\"\r\n          >\r\n            Create New Card\r\n          </Button>\r\n          <Button\r\n            onClick={showCreateCollectionComponent}\r\n            className=\"create-collection-button\"\r\n          >\r\n            Create New Collection\r\n          </Button>\r\n          <Button\r\n            onClick={showStatisticsComponent}\r\n            className=\"show-statistics-button\"\r\n          >\r\n            Create New Collection\r\n          </Button>\r\n        </>\r\n      )}\r\n\r\n      {isLessonMode && <Lesson />}\r\n      {showAllCards && (\r\n        <CardsWrapper>\r\n          {cards &&\r\n            cards.map((card: Card) => {\r\n              return <CardComponent card={card} key={card._id} />;\r\n            })}\r\n        </CardsWrapper>\r\n      )}\r\n\r\n      {showCreateCard && (\r\n        <MenuWrapper>\r\n          <CreateCard />\r\n        </MenuWrapper>\r\n      )}\r\n\r\n      {showCreateCollection && <CreateCollection />}\r\n      {showStatistics && <Statistics />}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst MainContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: var(--tundora);\r\n  background: linear-gradient(#d9d8df, #a19eae);\r\n\r\n  .test-button {\r\n    max-width: 100px;\r\n  }\r\n  .start-lesson-button {\r\n    max-width: 200px;\r\n  }\r\n  .show-cards-button {\r\n    max-width: 200px;\r\n  }\r\n\r\n  .create-card-button {\r\n    max-width: 200px;\r\n  }\r\n  .create-collection-button {\r\n    max-width: 200px;\r\n  }\r\n  .show-statistics-button {\r\n    max-width: 200px;\r\n  }\r\n`;\r\n\r\nconst MenuWrapper = styled.div``;\r\n\r\nconst CardsWrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n","import { Main } from './components/pages/main'\nimport {MainContextProvider}from'./utils'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MainContextProvider>\n      <Main />\n      </MainContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}