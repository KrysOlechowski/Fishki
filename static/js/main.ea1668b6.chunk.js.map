{"version":3,"sources":["types/enums.ts","types/index.ts","atoms/create-card-status/create-card-status.tsx","utils/api.ts","components/create-card/create-card.tsx","organisms/card/card.tsx","components/main/main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CardCreateStatus","CardDeleteStatus","CreateCardStatus","status","NEW","CREATED","FAILED","getAllCards","API_URL","getApiUrl","ky","get","json","CreateCard","useState","cardTitle","setCardTitle","cardFront","setCardFront","cardBack","setCardBack","cardStatus","setCardStatus","emptyFieldError","setEmptyFieldError","cardCreateStatus","setCardCreateStatus","onSubmit","useCallback","e","preventDefault","payload","title","front","back","PENDING","post","createCard","then","catch","err","console","log","onChange","name","target","value","CreateCardWrapper","action","autoComplete","className","type","placeholder","styled","div","CardComponent","card","id","_id","NONE","cardDeleteStatus","setCardDeletestatus","onDelete","cardId","delete","deleteCard","res","DELETED","cardStatusText","useMemo","CardWrapper","clsx","deleted","size","onClick","props","Main","cards","setCards","hasError","setError","useEffect","MainWrapper","MenuWrapper","CardsWrapper","map","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ea1668b6.chunk.js","sourcesContent":["export enum CardCreateStatus {\r\n  NEW = \"NEW\",\r\n  PENDING = \"PENDING\",\r\n  CREATED = \"CREATED\",\r\n  FAILED = \"FAILED\",\r\n}\r\n\r\nexport enum CardDeleteStatus {\r\n  NONE = \"NONE\",\r\n  DELETED = \"DELETED\",\r\n  FAILED = \"FAILED\",\r\n  PENDING = \"PENDING\",\r\n}\r\n","export * from \"./types\";\r\nexport * from \"./enums\";\r\n","import { FC } from 'react';\r\nimport { CardCreateStatus } from '../../types';\r\n\r\n\r\ninterface Props {\r\n   status?: CardCreateStatus;\r\n}\r\n\r\n\r\n\r\nexport const CreateCardStatus: FC<Props> = ({ status }) => {\r\n\r\n\r\n   if (status === CardCreateStatus.NEW) {\r\n      return (\r\n         <>\r\n            <h3>Create card</h3>\r\n         </>\r\n      )\r\n   } else if (status === CardCreateStatus.CREATED) {\r\n      return (\r\n         <>\r\n            <h3>Card Created</h3>\r\n         </>\r\n      )\r\n   } else if (status === CardCreateStatus.FAILED) {\r\n      return (\r\n         <>\r\n            <h3>Creatind card failed</h3>\r\n         </>\r\n      )\r\n   } else {\r\n      return (\r\n         <>\r\n            <h3>...</h3>\r\n         </>\r\n      )\r\n   }\r\n};\r\n\r\n","import ky from \"ky\";\r\nimport { CardCreate, Card } from \"../types\";\r\n\r\nexport const getAllCards = (): Promise<Array<Card>> => {\r\n  const API_URL = getApiUrl();\r\n  return ky.get(`${API_URL}/cards`).json();\r\n};\r\n\r\nexport const createCard = (payload: CardCreate): Promise<unknown> => {\r\n  const API_URL = getApiUrl();\r\n  return ky.post(`${API_URL}/add`, { json: payload });\r\n};\r\n\r\nexport const deleteCard = (id: string): Promise<any> => {\r\n  const API_URL = getApiUrl();\r\n  const payload = {\r\n    cardId: id,\r\n  };\r\n  return ky.delete(`${API_URL}/delete`, { json: payload }).json();\r\n};\r\n\r\nexport const getApiUrl = (): string => {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    return \"http://localhost:3003\";\r\n  } else {\r\n    return \"https://node11255.herokuapp.com\";\r\n  }\r\n};\r\n","import React, { FC, useCallback, useState } from 'react';\r\nimport styled from 'styled-components'\r\nimport { CreateCardStatus } from '../../atoms/create-card-status';\r\nimport { CardCreateStatus } from '../../types';\r\n\r\nimport { createCard } from '../../utils/api'\r\n\r\ninterface Props {\r\n}\r\n\r\n\r\n\r\nexport const CreateCard: FC<Props> = () => {\r\n   const [cardTitle, setCardTitle] = useState(\"\")\r\n   const [cardFront, setCardFront] = useState(\"\")\r\n   const [cardBack, setCardBack] = useState(\"\")\r\n   const [cardStatus, setCardStatus] = useState(\"\")\r\n   const [emptyFieldError, setEmptyFieldError] = useState(false)\r\n   const [cardCreateStatus, setCardCreateStatus] = useState(CardCreateStatus.NEW)\r\n\r\n   const onSubmit: any = useCallback(\r\n      (e: any) => {\r\n         e.preventDefault()\r\n         if (!cardTitle || !cardFront || !cardBack || !cardStatus) {\r\n            setEmptyFieldError(true)\r\n         } else {\r\n            setEmptyFieldError(false)\r\n            const payload = {\r\n               title: cardTitle,\r\n               front: cardFront,\r\n               back: cardBack,\r\n               status: cardStatus\r\n            }\r\n            setCardCreateStatus(CardCreateStatus.PENDING)\r\n            createCard(payload).then(() => {\r\n               setCardCreateStatus(CardCreateStatus.CREATED)\r\n               setCardTitle(\"\")\r\n               setCardFront(\"\")\r\n               setCardBack(\"\")\r\n               setCardStatus(\"\")\r\n\r\n            }).catch((err) => {\r\n               setCardCreateStatus(CardCreateStatus.FAILED)\r\n               console.log(err)\r\n            })\r\n         }\r\n      },\r\n      [cardTitle, cardFront, cardBack, cardStatus]\r\n   )\r\n\r\n   const onChange = useCallback(\r\n      (e: any) => {\r\n         const name = e.target.name\r\n         const value = e.target.value\r\n         if (name === \"title\") {\r\n            setCardTitle(value)\r\n         } else if (name === \"front\") {\r\n            setCardFront(value)\r\n         } else if (name === \"back\") {\r\n            setCardBack(value)\r\n         } else {\r\n            setCardStatus(value)\r\n         }\r\n      },\r\n      [],\r\n   )\r\n\r\n   return (\r\n      <>\r\n\r\n         <CreateCardWrapper>\r\n            <h1>Create card</h1>\r\n            <form action=\"submit\" onSubmit={onSubmit} autoComplete=\"off\">\r\n               <div className=\"\">\r\n                  <input type=\"text\" placeholder=\"Title\" onChange={onChange} value={cardTitle} name=\"title\" />\r\n               </div>\r\n               <div className=\"\">\r\n                  <input type=\"text\" placeholder=\"Front\" onChange={onChange} value={cardFront} name=\"front\" />\r\n               </div>\r\n               <div className=\"\">\r\n                  <input type=\"text\" placeholder=\"Back\" onChange={onChange} value={cardBack} name=\"back\" />\r\n               </div>\r\n               <div className=\"\">\r\n                  <input type=\"text\" placeholder=\"Status\" onChange={onChange} value={cardStatus} name=\"status\" />\r\n               </div>\r\n\r\n               <div className=\"\">\r\n                  <button type=\"submit\">Submit</button>\r\n               </div>\r\n               <CreateCardStatus status={cardCreateStatus} />\r\n               {emptyFieldError && (\r\n                  <div className=\"\">\r\n                     <p>You need to fill all the required forms</p>\r\n                  </div>\r\n               )}\r\n            </form>\r\n         </CreateCardWrapper>\r\n      </>\r\n   )\r\n};\r\n\r\nconst CreateCardWrapper = styled.div`\r\nwidth:350px;\r\npadding:50px;\r\nborder:1px solid red;\r\n`\r\n","import React, { FC, useCallback, useMemo, useState } from 'react';\r\nimport styled from 'styled-components'\r\nimport clsx from 'clsx'\r\n\r\n\r\nimport { Card, CardDeleteStatus } from '../../types';\r\nimport { deleteCard } from '../../utils';\r\n\r\ninterface Props {\r\n   card: Card;\r\n}\r\n\r\n\r\nexport const CardComponent: FC<Props> = ({ card }) => {\r\n   const { title, front, back, _id: id } = card\r\n\r\n   const [cardDeleteStatus, setCardDeletestatus] = useState(CardDeleteStatus.NONE)\r\n\r\n   const onDelete = useCallback(\r\n      () => {\r\n         setCardDeletestatus(CardDeleteStatus.PENDING)\r\n         const cardId = id\r\n         deleteCard(cardId).then((res) => {\r\n            console.log(\"card deleted + res: \")\r\n            console.log(res)\r\n            setCardDeletestatus(CardDeleteStatus.DELETED)\r\n         }).catch((err) => {\r\n            console.log(err)\r\n            setCardDeletestatus(CardDeleteStatus.FAILED)\r\n\r\n         })\r\n      },\r\n      [id],\r\n   )\r\n\r\n   const cardStatusText = useMemo(() => {\r\n      if (cardDeleteStatus === CardDeleteStatus.PENDING) {\r\n         return \"Removing....\"\r\n      } else if (cardDeleteStatus === CardDeleteStatus.FAILED) {\r\n         return \"Failed removing card\"\r\n      } else if (cardDeleteStatus === CardDeleteStatus.DELETED) {\r\n         return \"Card deleted\"\r\n      } else {\r\n         return \"\"\r\n      }\r\n   }, [cardDeleteStatus])\r\n\r\n   return (\r\n      <CardWrapper className={clsx(\"test2\", { deleted: cardDeleteStatus === CardDeleteStatus.DELETED })} size=\"14\">\r\n         <h2>{title}</h2>\r\n         <h3>{front}</h3>\r\n         <h3>{back}</h3>\r\n         <h3>{id}</h3>\r\n         <button onClick={onDelete}>Delete Card</button>\r\n         <h3>{cardStatusText}</h3>\r\n      </CardWrapper >\r\n   )\r\n};\r\n\r\ninterface CardWrapperProps {\r\n   className: string;\r\n   size: string;\r\n}\r\nconst CardWrapper = styled.div<CardWrapperProps>`\r\n\r\n &.test2{\r\n   border:1px solid green;\r\n}\r\n\r\n&.deleted{\r\n   background-color:pink;\r\n}\r\n\r\n${({ size }) =>\r\n      size === \"combined\" &&\r\n      `\r\n    background-color:green;\r\n  `}\r\n\r\nwidth:300px;\r\nheight:400px;\r\nfont-size:${props => props.size}px;\r\n\r\n\r\n`\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport styled from 'styled-components'\r\n\r\nimport { CreateCard } from '../create-card'\r\nimport { getAllCards } from '../../utils';\r\n\r\nimport { Card } from '../../types'\r\nimport { CardComponent } from '../../organisms/card'\r\ninterface MainProps {\r\n}\r\n\r\n\r\nexport const Main: FC<MainProps> = () => {\r\n   const [cards, setCards] = useState<Array<Card> | null>(null)\r\n   const [hasError, setError] = useState(false)\r\n\r\n   useEffect(() => {\r\n      getAllCards().then(cards => {\r\n         console.log(cards)\r\n         setCards(cards)\r\n      }).catch(() => setError(true))\r\n   }, [])\r\n\r\n   return (\r\n      <MainWrapper>\r\n         <MenuWrapper>\r\n            <CreateCard />\r\n         </MenuWrapper>\r\n\r\n         <CardsWrapper>\r\n\r\n            {cards && cards.map(card => {\r\n               return <CardComponent card={card} key={card._id} />\r\n            })}\r\n         </CardsWrapper>\r\n         {hasError && (\r\n            <h1>Error while loading the cards</h1>\r\n         )}\r\n      </MainWrapper>\r\n   )\r\n};\r\n\r\nconst MainWrapper = styled.div`\r\ndisplay:flex;\r\nflex-direction:column;\r\n`\r\n\r\nconst MenuWrapper = styled.div`\r\n\r\n`\r\n\r\nconst CardsWrapper = styled.div`\r\ndisplay:flex;\r\n`\r\n","import { Main } from './components/main'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}